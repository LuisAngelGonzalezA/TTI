MPASM 5.83           USART PIC RASPBERRY.ASM   3-1-2019  2:32:34         PAGE  1


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00001 ;============================================================
                      00002 ; Autores: Ismael Cervantes de Anda.
                      00003 ;          Caballero Huesca Carlos Eduardo
                      00004 ;          Gonzalez Ambriz Luis Angel
                      00005 ;          
                      00006 ;
                      00007 ; Medidor de Voltaje, Corriente Temperatura y comunicacion USART
                      00008 ; Fecha: 06/03/2018
                      00009 ; PIC: 16F876A
                      00010 ;============================================================
                      00011         LIST    P=PIC16F876A
                      00012         #include <p16f876a.inc>
                      00001         LIST
                      00002 
                      00003 ;==========================================================================
                      00004 ; Build date : Jan 21 2019
                      00005 ;  MPASM PIC16F876A processor include
                      00006 ; 
                      00007 ;  (c) Copyright 1999-2019 Microchip Technology, All rights reserved
                      00008 ;==========================================================================
                      00009 
                      00525         LIST
                      00013 ;       __CONFIG        _CP_OFF&_DEBUG_OFF&_WRT_OFF&_CPD_OFF&_LVP_OFF&_BODEN_OFF&_PWRTE_ON&_WDT_OFF&_XT_
                            OSC
2007   1931           00014         __CONFIG        _CP_ALL&_DEBUG_OFF&_WRT_HALF&_CPD_OFF&_LVP_OFF&_BODEN_OFF&_PWRTE_ON&_WDT_OFF&_XT
                            _OSC
                      00015 ;============================================================
                      00016 ;                  Declaración de Registros
                      00017 ;============================================================
  00000000            00018 w                       equ 0x00
  00000000            00019 indf            equ 0x00
  00000001            00020 tmr0            equ 0x01
  00000003            00021 status          equ 0x03
  00000004            00022 fsr                     equ 0x04
  00000005            00023 porta           equ 0x05
  00000006            00024 portb           equ 0x06
  00000007            00025 portc           equ 0x07
  0000000A            00026 pclath          equ 0x0a
  0000000B            00027 intcon          equ 0x0b
  0000000C            00028 pir1            equ     0x0c
  0000000D            00029 pir2            equ 0x0d
  00000018            00030 rcsta           equ     0x18
  00000019            00031 txreg           equ     0x19
  0000001A            00032 rcreg           equ     0x1a
  0000001E            00033 adresh          equ     0x1e
  0000001F            00034 adcon0          equ     0x1f
  0000009E            00035 adresl          equ     0x9e
  0000009F            00036 adcon1          equ 0x9f
                      00037 ;opsion         equ 0x81
  00000085            00038 trisa           equ 0x85
  00000086            00039 trisb           equ 0x86
  00000087            00040 trisc           equ 0x87
  0000008C            00041 pie1            equ 0x8c
MPASM 5.83           USART PIC RASPBERRY.ASM   3-1-2019  2:32:34         PAGE  2


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

  0000008D            00042 pie2            equ 0x8d
  00000098            00043 txsta           equ 0x98
  00000099            00044 spbrg           equ 0x99
                      00045 
  00000020            00046 varLCD          equ 0x20
  00000021            00047 ValBIN          equ 0x21
  00000022            00048 adcalto         equ 0x22
  00000023            00049 adcbajo         equ 0x23
  00000024            00050 BCDcen          equ 0x24
  00000025            00051 BCDdec          equ 0x25
  00000026            00052 BCDuni          equ 0x26
  00000027            00053 banADC          equ 0x27
  00000028            00054 ret1            equ 0x28
  00000029            00055 ret2            equ 0x29
  0000002A            00056 ret3            equ 0x2a
  0000002B            00057 var1            equ 0x2b
  0000002C            00058 var2            equ 0x2c
  0000002D            00059 var3            equ 0x2d
                      00060 
  00000030            00061 NumeroEntero            equ 0x30
  00000031            00062 NumeroFraccionCen       equ 0x31
  00000032            00063 NumeroFraccionDec       equ 0x32
  00000033            00064 NumeroFraccionUni       equ 0x33
  00000034            00065 VoltsDec                equ 0x34
  00000035            00066 VoltsUni                equ 0x35
  00000036            00067 VoltsFracDec    equ 0x36
  00000037            00068 VoltsFracUni    equ 0x37
  00000038            00069 AmperUni                equ 0x38
  00000039            00070 AmperFraCen             equ 0x39
  0000003A            00071 AmperFraDec             equ 0x3a
  0000003B            00072 AmperFraUni             equ 0x3b
  0000003C            00073 DecTemp         equ 0x3c
  0000003D            00074 UniTemp         equ 0x3d
  0000003E            00075 FraTemp         equ 0x3e
                      00076 
  00000040            00077 divisorDec      equ 0x40
  00000041            00078 divisorUni      equ 0x41
  00000042            00079 contadorMulti   equ 0x42
  00000043            00080 contadorMultiOper       equ 0x43
  00000044            00081 TempMultialto   equ 0x44
  00000045            00082 TempMultibajo   equ 0x45
  00000046            00083 Ventiladoralto  equ 0x46
  00000047            00084 Ventiladorbajo  equ 0x47
  00000048            00085 RutAjuste       equ 0x48
  00000049            00086 ContResta       equ 0x49
  0000004A            00087 TxUSART         equ 0x4a
  0000004B            00088 RxUSART         equ 0x4b
  0000004C            00089 CorrienteAlto   equ 0x4c
  0000004D            00090 CorrienteBajo   equ 0x4d
  0000004E            00091 VoltAlto        equ 0x4e
  0000004F            00092 VoltBajo        equ 0x4f
                      00093 
  00000050            00094 var1ren0        equ 0x50
MPASM 5.83           USART PIC RASPBERRY.ASM   3-1-2019  2:32:34         PAGE  3


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

  00000051            00095 var1ren1        equ 0x51
  00000052            00096 var1ren2        equ 0x52
  00000053            00097 var1ren3        equ 0x53
  00000054            00098 var1ren4        equ 0x54
  00000055            00099 var1ren5        equ 0x55
  00000056            00100 var1ren6        equ 0x56
  00000057            00101 var1ren7        equ 0x57
  00000058            00102 var1ren8        equ 0x58
  00000059            00103 var1ren9        equ 0x59
  0000005A            00104 var1ren10       equ 0x5a
  0000005B            00105 var1ren11       equ 0x5b
  0000005C            00106 var1ren12       equ 0x5c
  0000005D            00107 var1ren13       equ 0x5d
  0000005E            00108 var1ren14       equ 0x5e
  0000005F            00109 var1ren15       equ 0x5f
  00000060            00110 var2ren0        equ 0x60
  00000061            00111 var2ren1        equ 0x61
  00000062            00112 var2ren2        equ 0x62
  00000063            00113 var2ren3        equ 0x63
  00000064            00114 var2ren4        equ 0x64
  00000065            00115 var2ren5        equ 0x65
  00000066            00116 var2ren6        equ 0x66
  00000067            00117 var2ren7        equ 0x67
  00000068            00118 var2ren8        equ 0x68
  00000069            00119 var2ren9        equ 0x69
  0000006A            00120 var2ren10       equ 0x6a
  0000006B            00121 var2ren11       equ 0x6b
  0000006C            00122 var2ren12       equ 0x6c
  0000006D            00123 var2ren13       equ 0x6d
  0000006E            00124 var2ren14       equ 0x6e
  0000006F            00125 var2ren15       equ 0x6f
                      00126 
  00000070            00127 ValRx           equ 0x70
  00000071            00128 BCDCen          equ 0x71
  00000072            00129 BCDDec          equ 0x72
  00000073            00130 BCDUni          equ 0x73
  00000074            00131 ValRxHex        equ 0x74
  00000075            00132 HexAlto         equ 0x75
  00000076            00133 HexBajo         equ 0x76
  00000077            00134 RxUSART2        equ 0x77
  00000078            00135 Talta           equ 0x78
  00000079            00136 Tbaja           equ 0x79
                      00137 
                      00138                 
                      00139                 
  000000A0            00140 T1Alto          equ 0xa0
  000000A1            00141 T1Bajo          equ 0xa1
  000000A2            00142 T2Alto          equ 0xa2
  000000A3            00143 T2Bajo          equ 0xa3
  000000A4            00144 T3Alto          equ 0xa4
  000000A5            00145 T3Bajo          equ 0xa5
  000000A6            00146 T4Alto          equ 0xa6
  000000A7            00147 T4Bajo          equ 0xa7
MPASM 5.83           USART PIC RASPBERRY.ASM   3-1-2019  2:32:34         PAGE  4


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

  000000A8            00148 T5Alto          equ 0xa8
  000000A9            00149 T5Bajo          equ 0xa9
  000000AA            00150 T6Alto          equ 0xaa
  000000AB            00151 T6Bajo          equ 0xab
  000000AC            00152 T7Alto          equ 0xac
  000000AD            00153 T7Bajo          equ 0xad
  000000AE            00154 T8Alto          equ 0xae
  000000AF            00155 T8Bajo          equ 0xaf
                      00156 ;============================================================
                      00157 ;                  Declaración de Bits
                      00158 ;============================================================
  00000000            00159 c                       equ 0
  00000000            00160 adon            equ     0
  00000002            00161 z                       equ 2
  00000002            00162 toif            equ     2
  00000002            00163 go_done         equ     2
  00000000            00164 pcfg0           equ 0
  00000001            00165 pcfg1           equ 1
  00000002            00166 pcfg2           equ 2
  00000003            00167 pcfg3           equ 3
  00000003            00168 chs0            equ 3
  00000004            00169 chs1            equ 4
  00000005            00170 chs2            equ 5
                      00171 
  00000004            00172 cren            equ 4
  00000004            00173 txif            equ 4
  00000005            00174 rcif            equ 5
  00000005            00175 rcie            equ 5
                      00176 
  00000005            00177 rp0                     equ 5
  00000006            00178 rp1                     equ 6
  00000006            00179 peie            equ     6
  00000006            00180 adie            equ     6
  00000006            00181 adif            equ     6
  00000006            00182 adcs0           equ     6
  00000007            00183 adcs1           equ     7
  00000007            00184 adfm            equ 7
  00000007            00185 gie                     equ     7
  00000007            00186 eepgd           equ 7
  00000007            00187 spen            equ     7
                      00188                                                 ;Puerto A
  00000000            00189 SenCorriente    equ 0                   ;Entrada Analógica
  00000001            00190 SenVoltaje              equ 1                   ;Entrada Analógica
  00000002            00191 SenTemperatura  equ 2                   ;Entrada Analógica
                      00192                                                 ;Puerto B
  00000007            00193 Bit7_LCD                equ 7                   ;Salida
  00000006            00194 Bit6_LCD                equ 6                   ;Salida
  00000005            00195 Bit5_LCD                equ 5                   ;Salida
  00000004            00196 Bit4_LCD                equ 4                   ;Salida
  00000003            00197 Enable_LCD              equ 3                   ;Salida
  00000000            00198 RS_LCD                  equ 0                   ;Salida
                      00199                                                 ;Puerto C
  00000007            00200 Ventilador              equ 7                   ;Salida
MPASM 5.83           USART PIC RASPBERRY.ASM   3-1-2019  2:32:34         PAGE  5


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00201 ;============================================================
                      00202 ;               Declaración de Letras y Numeros
                      00203 ;============================================================
  00000020            00204 _espaci         equ     0x20
  00000030            00205 _0                      equ     0x30
  00000031            00206 _1                      equ     0x31
  00000032            00207 _2                      equ     0x32
  00000033            00208 _3                      equ     0x33
  00000034            00209 _4                      equ     0x34
  00000035            00210 _5                      equ     0x35
  00000036            00211 _6                      equ     0x36
  00000037            00212 _7                      equ     0x37
  00000038            00213 _8                      equ     0x38
  00000039            00214 _9                      equ     0x39
  00000041            00215 _A                      equ     0x41
  00000042            00216 _B                      equ     0x42
  00000043            00217 _C                      equ     0x43
  00000044            00218 _D                      equ     0x44
  00000045            00219 _E                      equ     0x45
  00000046            00220 _F                      equ     0x46
  00000047            00221 _G                      equ     0x47
  00000048            00222 _H                      equ     0x48
  00000049            00223 _I                      equ     0x49
  0000004A            00224 _J                      equ     0x4a
  0000004B            00225 _K                      equ     0x4b
  0000004C            00226 _L                      equ     0x4c
  0000004D            00227 _M                      equ     0x4d
  0000004E            00228 _N                      equ     0x4e
  0000004F            00229 _O                      equ     0x4f
  00000050            00230 _P                      equ     0x50
  00000051            00231 _Q                      equ     0x51
  00000052            00232 _R                      equ     0x52
  00000053            00233 _S                      equ     0x53
  00000054            00234 _T                      equ     0x54
  00000055            00235 _U                      equ     0x55
  00000056            00236 _V                      equ     0x56
  00000057            00237 _W                      equ     0x57
  00000058            00238 _X                      equ     0x58
  00000059            00239 _Y                      equ     0x59
  0000005A            00240 _Z                      equ     0x5a
  00000061            00241 _a                      equ     0x61
  00000062            00242 _b                      equ     0x62
  00000063            00243 _c                      equ     0x63
  00000064            00244 _d                      equ     0x64
  00000065            00245 _e                      equ     0x65
  00000066            00246 _f                      equ     0x66
  00000067            00247 _g                      equ     0x67
  00000068            00248 _h                      equ     0x68
  00000069            00249 _i                      equ     0x69
  0000006A            00250 _j                      equ     0x6a
  0000006B            00251 _k                      equ     0x6b
  0000006C            00252 _l                      equ     0x6c
  0000006D            00253 _m                      equ     0x6d
MPASM 5.83           USART PIC RASPBERRY.ASM   3-1-2019  2:32:34         PAGE  6


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

  0000006E            00254 _n                      equ     0x6e
  0000006F            00255 _o                      equ     0x6f
  00000070            00256 _p                      equ     0x70
  00000071            00257 _q                      equ     0x71
  00000072            00258 _r                      equ     0x72
  00000073            00259 _s                      equ     0x73
  00000074            00260 _t                      equ     0x74
  00000075            00261 _u                      equ     0x75
  00000076            00262 _v                      equ     0x76
  00000077            00263 _w                      equ     0x77
  00000078            00264 _x                      equ     0x78
  00000079            00265 _y                      equ     0x79
  0000007A            00266 _z                      equ     0x7a
  0000003A            00267 _dospuntos      equ     0x3a
  0000002D            00268 _menos          equ 0x2d
  0000002E            00269 _punto          equ     0x2e
  000000DF            00270 _grado          equ 0xdf
                      00271 
                      00272 ;;============================================================
                      00273 ;;              Paginas de memoria de programa
                      00274 ;;============================================================
                      00275 ;P0_0005_07FF   equ 0x00                ;Pagina 0       Ubicacion del programa principal 
                      00276 ;P1_0800_0FFF   equ 0x08                ;Pagina 1       Subritunas
                      00277 ;P3_1000_17FF   equ 0x10                ;Pagina 2
                      00278 ;P4_1800_1FFF   equ 0x18                ;Pagina 3
                      00279 ;============================================================
                      00280 ;               Vector del reset
                      00281 ;============================================================
                      00282         org             0
0000   2???           00283         goto    IniProgMed
                      00284         org             4
0004   1283           00285         bcf             status,rp0         ;cambiar al banco 0
0005   1303           00286         bcf     status,rp1
0006   1B0C           00287         btfsc   pir1,adif                       ;¿interrupción por ADC?
0007   2???           00288         goto    ADCinterrup
0008   1A8C           00289         btfsc   pir1,rcif
0009   2???           00290         goto    interserie
000A   0009           00291         retfie
                      00292 ;============================================================
                      00293 ;       Rutinas de Interrupción
                      00294 ;============================================================
                      00295 ;------------------------------------------------------------
000B                  00296 ADCinterrup                                             ;Interrupción por ADC
                      00297 ;------------------------------------------------------------
000B   1283           00298         bcf             status,rp0                      ;cambiar al banco 0
000C   1303           00299         bcf             status,rp1
000D   138B           00300         bcf             intcon,gie                      ;desactivación general de interrupciones
000E   081E           00301         movf    adresh,w                        ;guarda el byte alto de la conversión en
000F   00A2           00302         movwf   adcalto                         ;la localidad de memoria RAM correspondiente
0010   1683           00303         bsf             status,rp0                      ;cambiar al banco 1
0011   1303           00304         bcf             status,rp1
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0012   081E           00305         movf    adresl,w                        ;guarda el byte bajo de la conversión en
MPASM 5.83           USART PIC RASPBERRY.ASM   3-1-2019  2:32:34         PAGE  7


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0013   1283           00306         bcf             status,rp0                      ;cambiar al banco 0
0014   1303           00307         bcf             status,rp1
0015   00A3           00308         movwf   adcbajo                         ;la localidad de memoria RAM correspondiente
0016   130C           00309         bcf             pir1,adif
0017   178B           00310         bsf             intcon,gie
0018   30AA           00311         movlw   0xaa
0019   00A7           00312         movwf   banADC
001A   0009           00313         retfie
                      00314 ;------------------------------------------------------------
001B                  00315 interserie
                      00316 ;------------------------------------------------------------
001B   1283           00317         bcf             status,rp0              ;cambiar al banco 0
001C   1303           00318         bcf             status,rp1
001D   138B           00319         bcf             intcon,gie              ;desactivar habilitador general de interrupciones.
                      00320 
                      00321 
                      00322 
                      00323 
                      00324 
001E   081A           00325         movf    rcreg,w                 ;CÓDIGO DE PRUEBA
001F   00CB           00326         movwf   RxUSART                 ;CÓDIGO DE PRUEBA
0020   00F7           00327         movwf   RxUSART2                ;CÓDIGO DE PRUEBA
0021   00F0           00328         movwf   ValRx                   ;CÓDIGO DE PRUEBA
0022   00F4           00329         movwf   ValRxHex                ;CÓDIGO DE PRUEBA
                      00330         ;call   CONV_BINaBCD    ;CÓDIGO DE PRUEBA
                      00331         ;call   CONV_BINaHEX    ;CÓDIGO DE PRUEBA
                      00332         ;call   PantallaRX              ;CÓDIGO DE PRUEBA
                      00333 ;       call    display                 ;CÓDIGO DE PRUEBA
                      00334 ;       call    retardounseg    ;CÓDIGO DE PRUEBA
                      00335         
                      00336 
                      00337 
                      00338 
                      00339 
0023   0877           00340         movf    RxUSART2,w                      ;recuperar el dato recibido por rs232
0024   00CB           00341         movwf   RxUSART
0025   3AE1           00342         xorlw   0xe1                    ;¿Se recibio el "Comando" de Petición?
0026   1903           00343         btfsc   status,z
0027   2???           00344         goto    Tx_Protocolo
0028   2???           00345         goto    Regresa_de_USART
0029   0009           00346         retfie
002A                  00347 Tx_Protocolo
                      00348 
                      00349 
                      00350 
                      00351         ;call   PantallaTX              ;CÓDIGO DE PRUEBA
                      00352         ;call   display                 ;CÓDIGO DE PRUEBA
                      00353         ;call   retardounseg    ;CÓDIGO DE PRUEBA
                      00354 
                      00355 
                      00356 
002A   30C1           00357         movlw   0xc1                    ;Se transmite "Confirmación" de recepción de "Comando" de Petici
                            ón.
MPASM 5.83           USART PIC RASPBERRY.ASM   3-1-2019  2:32:34         PAGE  8


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

002B   00CA           00358         movwf   TxUSART
002C   2???           00359         call    transmite
002D   2???           00360         call    Retardos
                      00361 ;       call    temp10micros
                      00362 
002E   084E           00363         movf    VoltAlto,w              ;Se transmite el valor de Voltaje
002F   00CA           00364         movwf   TxUSART
0030   2???           00365         call    transmite
0031   2???           00366         call    Retardos
                      00367 ;       call    temp10micros
0032   084F           00368         movf    VoltBajo,w
0033   00CA           00369         movwf   TxUSART
0034   2???           00370         call    transmite
0035   2???           00371         call    Retardos
                      00372 ;       call    temp10micros
                      00373 
                      00374 
0036   084C           00375         movf    CorrienteAlto,w ;Se transmite el valor de Corriente
0037   00CA           00376         movwf   TxUSART
0038   2???           00377         call    transmite
0039   2???           00378         call    Retardos
                      00379 ;       call    temp10micros
003A   084D           00380         movf    CorrienteBajo,w
003B   00CA           00381         movwf   TxUSART
003C   2???           00382         call    transmite
003D   2???           00383         call    Retardos
                      00384 ;       call    temp10micros
                      00385 
                      00386 
003E   0878           00387         movf    Talta,w ;Se transmite el valor de Temperatura
003F   00CA           00388         movwf   TxUSART
0040   2???           00389         call    transmite
0041   2???           00390         call    Retardos
                      00391 ;       call    temp10micros
0042   0879           00392         movf    Tbaja,w
0043   00CA           00393         movwf   TxUSART
0044   2???           00394         call    transmite
0045   2???           00395         call    Retardos
                      00396 ;       call    temp10micros
                      00397 
                      00398 
0046   30C2           00399         movlw   0xc2                            ;Se transmite el "Comando" de Cierre
0047   00CA           00400         movwf   TxUSART
0048   2???           00401         call    transmite
                      00402 
0049                  00403 Regresa_de_USART
0049   128C           00404         bcf             pir1,rcif
004A   178B           00405         bsf             intcon,gie
004B   0009           00406         retfie
                      00407 ;============================================================
                      00408 ;               Comienzo del programa principal
                      00409 ;============================================================
004C                  00410 IniProgMed
MPASM 5.83           USART PIC RASPBERRY.ASM   3-1-2019  2:32:34         PAGE  9


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

004C   1683           00411         bsf             status,rp0              ;cambiar al banco 1
004D   1303           00412         bcf             status,rp1
004E   303F           00413         movlw   b'00111111'             ;configurar los pines del puerto A como entradas
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
004F   0085           00414         movwf   trisa
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0050   0186           00415         clrf    trisb                   ;configurar los pines del puerto B como salida
0051   30BF           00416         movlw   b'10111111'             ;configurar pin 6 como salida, demás como entradas del puerto C
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0052   0087           00417         movwf   trisc
0053   1283           00418         bcf             status,rp0              ;cambiar al banco 0
0054   1303           00419         bcf             status,rp1
                      00420 ;============================================================
                      00421 ;Carga valores iniciales
                      00422 ;============================================================
0055   1283           00423         bcf             status,rp0              ;cambiar al banco 0
0056   1303           00424         bcf             status,rp1
0057   01A0           00425         clrf    varLCD
0058   0185           00426         clrf    porta                   ;apaga las salidas del puerto A, B y C
0059   0186           00427         clrf    portb
005A   0187           00428         clrf    portc
005B   01A7           00429         clrf    banADC
005C   01C8           00430         clrf    RutAjuste
005D   3058           00431         movlw   _X
005E   00B4           00432         movwf   VoltsDec
005F   00B5           00433         movwf   VoltsUni
0060   00B7           00434         movwf   VoltsFracUni
0061   00B6           00435         movwf   VoltsFracDec
0062   00B8           00436         movwf   AmperUni
0063   00B9           00437         movwf   AmperFraCen
0064   00BA           00438         movwf   AmperFraDec
0065   00BB           00439         movwf   AmperFraUni
0066   00BC           00440         movwf   DecTemp
0067   00BD           00441         movwf   UniTemp
0068   00BE           00442         movwf   FraTemp
0069   2???           00443         call    ConfigADC
006A   2???           00444         call    IniciaDisplayLCD
006B   2???           00445         call    letreroBienvenida
006C   2???           00446         call    display
006D   2???           00447         call    retardounseg
006E   2???           00448         call    retardounseg
006F   2???           00449         call    retardounseg
0070   2???           00450         call    retardounseg
0071   2???           00451         call    Primerletrero
0072   2???           00452         call    display
                      00453 ;============================================================
                      00454                         ;Activacion de la USART 9600 BAUDIOS, Sin bit de paridad
                      00455 ;============================================================
0073   1683           00456         bsf             status,rp0              ;cambiar al banco 1
0074   1303           00457         bcf             status,rp1
0075   3026           00458         movlw   b'00100110'
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0076   0098           00459         movwf   txsta
MPASM 5.83           USART PIC RASPBERRY.ASM   3-1-2019  2:32:34         PAGE 10


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0077   3019           00460         movlw   .25
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0078   0099           00461         movwf   spbrg
0079   1283           00462         bcf             status,rp0              ;cambiar al banco 0
007A   1303           00463         bcf             status,rp1
007B   1798           00464         bsf             rcsta,spen              ;habilitacion del puerto de comunicacion serial
007C   1618           00465         bsf             rcsta,cren
007D   178B           00466         bsf             intcon,gie              ;activar habilitador general de interrupciones.
007E   170B           00467         bsf             intcon,peie             ;activar habilitador general de interrupciones por perif
                            ericos.
007F   1683           00468         bsf             status,rp0              ;cambiar al banco 1
0080   1303           00469         bcf             status,rp1
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0081   168C           00470         bsf             pie1,rcie               ;activar interrupción por fin de recepción por usart.
                      00471 ;============================================================
0082                  00472 MedirCorriente
                      00473 ;============================================================
0082   1283           00474         bcf             status,rp0              ;cambiar al banco 0
0083   1303           00475         bcf             status,rp1
                      00476 
                      00477 
0084   178B           00478         bsf             intcon,gie              ;activación general de interrupciones
0085   170B           00479         bsf             intcon,peie             ;activación de interrupciones por periférico
                      00480 
0086   119F           00481         bcf             adcon0,chs0             ;selecciona canal 0 de adc
0087   121F           00482         bcf             adcon0,chs1             ;selecciona canal 0 de adc
0088   129F           00483         bcf             adcon0,chs2             ;selecciona canal 0 de adc
                      00484 
                      00485 ;       call    retardoXseg
                      00486 
0089   151F           00487         bsf             adcon0,go_done  ;iniciar la operación del ADC
008A                  00488 esperaCorrienteADCs
008A   0827           00489         movf    banADC,w
008B   3AAA           00490         xorlw   0xaa
008C   1D03           00491         btfss   status,z
008D   2???           00492         goto    esperaCorrienteADCs
                      00493 
                      00494 ;       bcf             intcon,gie              ;activación general de interrupciones
                      00495 ;       bcf             intcon,peie             ;activación de interrupciones por periférico
                      00496 
008E   2???           00497         call    SubRutAjuste
008F   0848           00498                 movf    RutAjuste,w
0090   3A00           00499                 xorlw   0x00
0091   1903           00500                 btfsc   status,z
0092   2???           00501                 goto    ContCalCorriente
0093   0848           00502                 movf    RutAjuste,w
0094   3A01           00503                 xorlw   0x01
0095   1903           00504                 btfsc   status,z
0096   2???           00505                 goto    Resta4CalCorriente
0097   0848           00506                 movf    RutAjuste,w
0098   3A02           00507                 xorlw   0x02
0099   1903           00508                 btfsc   status,z
009A   2???           00509                 goto    Resta9CalCorriente
MPASM 5.83           USART PIC RASPBERRY.ASM   3-1-2019  2:32:34         PAGE 11


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

009B   0848           00510                 movf    RutAjuste,w
009C   3A03           00511                 xorlw   0x03
009D   1903           00512                 btfsc   status,z
009E   2???           00513                 goto    Resta18CalCorriente
009F   2???           00514                 goto    ContCalCorriente
Warning[207]: Found label after column 1. (Resta4CalCorriente)
00A0                  00515                 Resta4CalCorriente
00A0   3004           00516                         movlw   0x04
00A1   00C9           00517                         movwf   ContResta
Warning[207]: Found label after column 1. (Sig_Resta4CalCorriente)
00A2                  00518                         Sig_Resta4CalCorriente
00A2   03A3           00519                                 decf    adcbajo,1
00A3   0823           00520                                 movf    adcbajo,w
00A4   3AFF           00521                                 xorlw   0xff
00A5   1903           00522                                 btfsc   status,z
00A6   2???           00523                                 goto    decrementa_adcalto_Resta4CalCorriente
00A7   2???           00524                                 goto    continua_Resta4CalCorriente
Warning[207]: Found label after column 1. (decrementa_adcalto_Resta4CalCorriente)
Warning[208]: Label truncated at 32 characters. (decrementa_adcalto_Resta4CalCorriente)
00A8                  00525                                 decrementa_adcalto_Resta4CalCorriente
00A8   03A2           00526                                         decf    adcalto,1
Warning[207]: Found label after column 1. (continua_Resta4CalCorriente)
00A9                  00527                                 continua_Resta4CalCorriente
00A9   0BC9           00528                                         decfsz  ContResta,1
00AA   2???           00529                                         goto    Sig_Resta4CalCorriente
00AB   2???           00530                                         goto    ContCalCorriente        
Warning[207]: Found label after column 1. (Resta9CalCorriente)
00AC                  00531                 Resta9CalCorriente
00AC   3009           00532                         movlw   0x09
00AD   00C9           00533                         movwf   ContResta
Warning[207]: Found label after column 1. (Sig_Resta9CalCorriente)
00AE                  00534                         Sig_Resta9CalCorriente
00AE   03A3           00535                                 decf    adcbajo,1
00AF   0823           00536                                 movf    adcbajo,w
00B0   3AFF           00537                                 xorlw   0xff
00B1   1903           00538                                 btfsc   status,z
00B2   2???           00539                                 goto    decrementa_adcalto_Resta9CalCorriente
00B3   2???           00540                                 goto    continua_Resta9CalCorriente
Warning[207]: Found label after column 1. (decrementa_adcalto_Resta9CalCorriente)
Warning[208]: Label truncated at 32 characters. (decrementa_adcalto_Resta9CalCorriente)
00B4                  00541                                 decrementa_adcalto_Resta9CalCorriente
00B4   03A2           00542                                         decf    adcalto,1
Warning[207]: Found label after column 1. (continua_Resta9CalCorriente)
00B5                  00543                                 continua_Resta9CalCorriente
00B5   0BC9           00544                                         decfsz  ContResta,1
00B6   2???           00545                                         goto    Sig_Resta9CalCorriente
00B7   2???           00546                                         goto    ContCalCorriente        
Warning[207]: Found label after column 1. (Resta18CalCorriente)
00B8                  00547                 Resta18CalCorriente
00B8   3012           00548                         movlw   .018
00B9   00C9           00549                         movwf   ContResta
Warning[207]: Found label after column 1. (Sig_Resta18CalCorriente)
00BA                  00550                         Sig_Resta18CalCorriente
MPASM 5.83           USART PIC RASPBERRY.ASM   3-1-2019  2:32:34         PAGE 12


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

00BA   03A3           00551                                 decf    adcbajo,1
00BB   0823           00552                                 movf    adcbajo,w
00BC   3AFF           00553                                 xorlw   0xff
00BD   1903           00554                                 btfsc   status,z
00BE   2???           00555                                 goto    decrementa_adcalto_Resta18CalCorriente
00BF   2???           00556                                 goto    continua_Resta18CalCorriente
Warning[207]: Found label after column 1. (decrementa_adcalto_Resta18CalCorriente)
Warning[208]: Label truncated at 32 characters. (decrementa_adcalto_Resta18CalCorriente)
00C0                  00557                                 decrementa_adcalto_Resta18CalCorriente
00C0   03A2           00558                                         decf    adcalto,1
Warning[207]: Found label after column 1. (continua_Resta18CalCorriente)
00C1                  00559                                 continua_Resta18CalCorriente
00C1   0BC9           00560                                         decfsz  ContResta,1
00C2   2???           00561                                         goto    Sig_Resta18CalCorriente
00C3   2???           00562                                         goto    ContCalCorriente        
00C4                  00563 ContCalCorriente
00C4   01A7           00564         clrf    banADC
00C5   3004           00565         movlw   .004
00C6   00C2           00566         movwf   contadorMulti
00C7   2???           00567         call    MultiplicacionCalculos
00C8   3003           00568         movlw   0x03
00C9   00C0           00569         movwf   divisorDec
00CA   30E8           00570         movlw   0xe8
00CB   00C1           00571         movwf   divisorUni
00CC   3009           00572         movlw   .009
00CD   00C2           00573         movwf   contadorMulti
00CE   0822           00574         movf    adcalto,w
00CF   00CC           00575         movwf   CorrienteAlto
00D0   0823           00576         movf    adcbajo,w
00D1   00CD           00577         movwf   CorrienteBajo
00D2   2???           00578         call    DivisionCalculos
                      00579 
00D3   0830           00580         movf    NumeroEntero,w                          ;Calcula el valor BCD de la parte entrera de la 
                            corriente
00D4   00A1           00581         movwf   ValBIN
00D5   2???           00582         call    convBINaBCD
00D6   0826           00583         movf    BCDuni,w
00D7   3830           00584         iorlw   0x30
00D8   00B8           00585         movwf   AmperUni
00D9   0831           00586         movf    NumeroFraccionCen,w                     ;Calcula el valor BCD de la parte fraccionaria (
                            Centesima) de la corriente
00DA   00A1           00587         movwf   ValBIN
00DB   2???           00588         call    convBINaBCD
00DC   0826           00589         movf    BCDuni,w
00DD   3830           00590         iorlw   0x30
00DE   00B9           00591         movwf   AmperFraCen
00DF   0832           00592         movf    NumeroFraccionDec,w                     ;Calcula el valor BCD de la parte fraccionaria (
                            Decima) de la corriente
00E0   00A1           00593         movwf   ValBIN
00E1   2???           00594         call    convBINaBCD
00E2   0826           00595         movf    BCDuni,w
00E3   3830           00596         iorlw   0x30
00E4   00BA           00597         movwf   AmperFraDec
MPASM 5.83           USART PIC RASPBERRY.ASM   3-1-2019  2:32:34         PAGE 13


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

00E5   0833           00598         movf    NumeroFraccionUni,w                     ;Calcula el valor BCD de la parte fraccionaria (
                            Unidad) de la corriente
00E6   00A1           00599         movwf   ValBIN
00E7   2???           00600         call    convBINaBCD
00E8   0826           00601         movf    BCDuni,w
00E9   3830           00602         iorlw   0x30
00EA   00BB           00603         movwf   AmperFraUni
00EB   2???           00604         call    Primerletrero
00EC   2???           00605         call    display
                      00606 ;       call    retardounseg
                      00607 ;============================================================
00ED                  00608 MedirVoltaje
                      00609 ;============================================================
00ED   1283           00610         bcf             status,rp0              ;cambiar al banco 0
00EE   1303           00611         bcf             status,rp1
00EF   178B           00612         bsf             intcon,gie              ;activación general de interrupciones
00F0   170B           00613         bsf             intcon,peie             ;activación de interrupciones por periférico
                      00614 
00F1   159F           00615         bsf             adcon0,chs0             ;selecciona canal 1 de adc
00F2   121F           00616         bcf             adcon0,chs1             ;selecciona canal 1 de adc
00F3   129F           00617         bcf             adcon0,chs2             ;selecciona canal 1 de adc
                      00618 
                      00619 ;       call    retardoXseg
                      00620 
00F4   151F           00621         bsf             adcon0,go_done                  ;iniciar la operación del ADC
00F5                  00622 esperaVoltajeADCs
00F5   0827           00623         movf    banADC,w
00F6   3AAA           00624         xorlw   0xaa
00F7   1D03           00625         btfss   status,z
00F8   2???           00626         goto    esperaVoltajeADCs
                      00627 
                      00628 ;       bcf             intcon,gie              ;activación general de interrupciones
                      00629 ;       bcf             intcon,peie             ;activación de interrupciones por periférico
                      00630 
00F9   2???           00631         call    SubRutAjuste
00FA   0848           00632                 movf    RutAjuste,w
00FB   3A00           00633                 xorlw   0x00
00FC   1903           00634                 btfsc   status,z
00FD   2???           00635                 goto    ContCalVoltaje
00FE   0848           00636                 movf    RutAjuste,w
00FF   3A01           00637                 xorlw   0x01
0100   1903           00638                 btfsc   status,z
0101   2???           00639                 goto    Resta4CalVoltaje
0102   0848           00640                 movf    RutAjuste,w
0103   3A02           00641                 xorlw   0x02
0104   1903           00642                 btfsc   status,z
0105   2???           00643                 goto    Resta8CalVoltaje
0106   0848           00644                 movf    RutAjuste,w
0107   3A03           00645                 xorlw   0x03
0108   1903           00646                 btfsc   status,z
0109   2???           00647                 goto    Resta11CalVoltaje
010A   2???           00648                 goto    ContCalVoltaje
Warning[207]: Found label after column 1. (Resta4CalVoltaje)
MPASM 5.83           USART PIC RASPBERRY.ASM   3-1-2019  2:32:34         PAGE 14


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

010B                  00649                 Resta4CalVoltaje
010B   3004           00650                         movlw   0x04
010C   00C9           00651                         movwf   ContResta
Warning[207]: Found label after column 1. (Sig_Resta4CalVoltaje)
010D                  00652                         Sig_Resta4CalVoltaje
010D   03A3           00653                                 decf    adcbajo,1
010E   0823           00654                                 movf    adcbajo,w
010F   3AFF           00655                                 xorlw   0xff
0110   1903           00656                                 btfsc   status,z
0111   2???           00657                                 goto    decrementa_adcalto_Resta4CalVoltaje
0112   2???           00658                                 goto    continua_Resta4CalVoltaje
Warning[207]: Found label after column 1. (decrementa_adcalto_Resta4CalVoltaje)
Warning[208]: Label truncated at 32 characters. (decrementa_adcalto_Resta4CalVoltaje)
0113                  00659                                 decrementa_adcalto_Resta4CalVoltaje
0113   03A2           00660                                         decf    adcalto,1
Warning[207]: Found label after column 1. (continua_Resta4CalVoltaje)
0114                  00661                                 continua_Resta4CalVoltaje
0114   0BC9           00662                                         decfsz  ContResta,1
0115   2???           00663                                         goto    Sig_Resta4CalVoltaje
0116   2???           00664                                         goto    ContCalVoltaje
Warning[207]: Found label after column 1. (Resta8CalVoltaje)
0117                  00665                 Resta8CalVoltaje
0117   3008           00666                         movlw   0x08
0118   00C9           00667                         movwf   ContResta
Warning[207]: Found label after column 1. (Sig_Resta8CalVoltaje)
0119                  00668                         Sig_Resta8CalVoltaje
0119   03A3           00669                                 decf    adcbajo,1
011A   0823           00670                                 movf    adcbajo,w
011B   3AFF           00671                                 xorlw   0xff
011C   1903           00672                                 btfsc   status,z
011D   2???           00673                                 goto    decrementa_adcalto_Resta8CalVoltaje
011E   2???           00674                                 goto    continua_Resta8CalVoltaje
Warning[207]: Found label after column 1. (decrementa_adcalto_Resta8CalVoltaje)
Warning[208]: Label truncated at 32 characters. (decrementa_adcalto_Resta8CalVoltaje)
011F                  00675                                 decrementa_adcalto_Resta8CalVoltaje
011F   03A2           00676                                         decf    adcalto,1
Warning[207]: Found label after column 1. (continua_Resta8CalVoltaje)
0120                  00677                                 continua_Resta8CalVoltaje
0120   0BC9           00678                                         decfsz  ContResta,1
0121   2???           00679                                         goto    Sig_Resta8CalVoltaje
0122   2???           00680                                         goto    ContCalVoltaje
Warning[207]: Found label after column 1. (Resta11CalVoltaje)
0123                  00681                 Resta11CalVoltaje
0123   300B           00682                         movlw   .011
0124   00C9           00683                         movwf   ContResta
Warning[207]: Found label after column 1. (Sig_Resta11CalVoltaje)
0125                  00684                         Sig_Resta11CalVoltaje
0125   03A3           00685                                 decf    adcbajo,1
0126   0823           00686                                 movf    adcbajo,w
0127   3AFF           00687                                 xorlw   0xff
0128   1903           00688                                 btfsc   status,z
0129   2???           00689                                 goto    decrementa_adcalto_Resta11CalVoltaje
012A   2???           00690                                 goto    continua_Resta11CalVoltaje
MPASM 5.83           USART PIC RASPBERRY.ASM   3-1-2019  2:32:34         PAGE 15


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

Warning[207]: Found label after column 1. (decrementa_adcalto_Resta11CalVoltaje)
Warning[208]: Label truncated at 32 characters. (decrementa_adcalto_Resta11CalVoltaje)
012B                  00691                                 decrementa_adcalto_Resta11CalVoltaje
012B   03A2           00692                                         decf    adcalto,1
Warning[207]: Found label after column 1. (continua_Resta11CalVoltaje)
012C                  00693                                 continua_Resta11CalVoltaje
012C   0BC9           00694                                         decfsz  ContResta,1
012D   2???           00695                                         goto    Sig_Resta11CalVoltaje
012E   2???           00696                                         goto    ContCalVoltaje
012F                  00697 ContCalVoltaje
012F   01A7           00698         clrf    banADC
0130   3000           00699         movlw   .000
0131   00C0           00700         movwf   divisorDec
0132   3016           00701         movlw   .022
0133   00C1           00702         movwf   divisorUni
0134   3009           00703         movlw   .009
0135   00C2           00704         movwf   contadorMulti
0136   2???           00705         call    DivisionCalculos
                      00706 
0137   0830           00707         movf    NumeroEntero,w
0138   00CE           00708         movwf   VoltAlto
0139   0831           00709         movf    NumeroFraccionCen,w
013A   00CF           00710         movwf   VoltBajo
013B   07CF           00711         addwf   VoltBajo,1
013C   07CF           00712         addwf   VoltBajo,1
013D   07CF           00713         addwf   VoltBajo,1
013E   07CF           00714         addwf   VoltBajo,1
013F   07CF           00715         addwf   VoltBajo,1
0140   07CF           00716         addwf   VoltBajo,1
0141   07CF           00717         addwf   VoltBajo,1
0142   07CF           00718         addwf   VoltBajo,1
0143   07CF           00719         addwf   VoltBajo,1
0144   0832           00720         movf    NumeroFraccionDec,w
0145   07CF           00721         addwf   VoltBajo,1
                      00722 
0146   0830           00723         movf    NumeroEntero,w                          ;Calcula el valor BCD de la parte entrera del vo
                            ltaje
0147   00A1           00724         movwf   ValBIN
0148   2???           00725         call    convBINaBCD
0149   0826           00726         movf    BCDuni,w
014A   3830           00727         iorlw   0x30
014B   00B5           00728         movwf   VoltsUni
014C   0825           00729         movf    BCDdec,w
014D   3830           00730         iorlw   0x30
014E   00B4           00731         movwf   VoltsDec
014F   0831           00732         movf    NumeroFraccionCen,w                     ;Calcula el valor BCD de la parte fraccionaria (
                            Centesima) del voltaje
0150   00A1           00733         movwf   ValBIN
0151   2???           00734         call    convBINaBCD
0152   0826           00735         movf    BCDuni,w
0153   3830           00736         iorlw   0x30
0154   00B7           00737         movwf   VoltsFracUni
0155   0832           00738         movf    NumeroFraccionDec,w                     ;Calcula el valor BCD de la parte fraccionaria (
MPASM 5.83           USART PIC RASPBERRY.ASM   3-1-2019  2:32:34         PAGE 16


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                            Decima) del voltaje
0156   00A1           00739         movwf   ValBIN
0157   2???           00740         call    convBINaBCD
0158   0826           00741         movf    BCDuni,w
0159   3830           00742         iorlw   0x30
015A   00B6           00743         movwf   VoltsFracDec
015B   2???           00744         call    Primerletrero
015C   2???           00745         call    display
                      00746 ;       call    retardounseg
                      00747 ;============================================================
015D                  00748 MedirTemperatura
                      00749 ;============================================================
015D   1283           00750         bcf             status,rp0              ;cambiar al banco 0
015E   1303           00751         bcf             status,rp1
015F   178B           00752         bsf             intcon,gie              ;activación general de interrupciones
0160   170B           00753         bsf             intcon,peie             ;activación de interrupciones por periférico
                      00754 
0161   119F           00755         bcf             adcon0,chs0             ;selecciona canal 2 de adc
0162   161F           00756         bsf             adcon0,chs1             ;selecciona canal 2 de adc
0163   129F           00757         bcf             adcon0,chs2             ;selecciona canal 2 de adc
                      00758 
                      00759 ;       call    retardoXseg
                      00760 
0164   151F           00761         bsf             adcon0,go_done                  ;iniciar la operación del ADC
0165                  00762 esperaTemperaturaADCs
0165   0827           00763         movf    banADC,w
0166   3AAA           00764         xorlw   0xaa
0167   1D03           00765         btfss   status,z
0168   2???           00766         goto    esperaTemperaturaADCs
                      00767 
                      00768 ;       bcf             intcon,gie              ;activación general de interrupciones
                      00769 ;       bcf             intcon,peie             ;activación de interrupciones por periférico
                      00770 
0169   01A7           00771         clrf    banADC
016A   0822           00772         movf    adcalto,w
016B   00C6           00773         movwf   Ventiladoralto
016C   0823           00774         movf    adcbajo,w
016D   00C7           00775         movwf   Ventiladorbajo
                      00776 
016E   3009           00777         movlw   .009
016F   00C2           00778         movwf   contadorMulti
0170   2???           00779         call    MultiplicacionCalculos
                      00780 
0171   3000           00781         movlw   0x00
0172   00C0           00782         movwf   divisorDec
0173   3014           00783         movlw   0x14
0174   00C1           00784         movwf   divisorUni
0175   3009           00785         movlw   .009
0176   00C2           00786         movwf   contadorMulti
0177   2???           00787         call    DivisionCalculos
                      00788 
                      00789 
                      00790 
MPASM 5.83           USART PIC RASPBERRY.ASM   3-1-2019  2:32:34         PAGE 17


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0178   0830           00791         movf    NumeroEntero,w                          ;Calcula el valor BCD de la parte entrera de la 
                            temperatura
0179   00A1           00792         movwf   ValBIN
017A   2???           00793         call    convBINaBCD
017B   0826           00794         movf    BCDuni,w
017C   3830           00795         iorlw   0x30
017D   00BD           00796         movwf   UniTemp
017E   0825           00797         movf    BCDdec,w
017F   3830           00798         iorlw   0x30
0180   00BC           00799         movwf   DecTemp
0181   0831           00800         movf    NumeroFraccionCen,w                     ;Calcula el valor BCD de la parte fraccionaria d
                            e la temperatura
0182   00A1           00801         movwf   ValBIN
0183   2???           00802         call    convBINaBCD
0184   0826           00803         movf    BCDuni,w
0185   3830           00804         iorlw   0x30
0186   00BE           00805         movwf   FraTemp
                      00806         
0187   0830           00807         movf    NumeroEntero,w                          ;Calcula el valor BCD de la parte entrera de la 
                            temperatura
0188   00F8           00808         movwf   Talta
                      00809         
0189   0831           00810         movf    NumeroFraccionCen,w                     ;Calcula el valor BCD de la parte fraccionaria d
                            e la temperatura
018A   00F9           00811         movwf   Tbaja
                      00812         
018B   2???           00813         call    Primerletrero
018C   2???           00814         call    display
                      00815 ;       call    retardounseg
                      00816 ;============================================================
018D                  00817 Apaga_Enciende_Ventilador
                      00818 ;============================================================
018D   1003           00819         bcf             status,c
018E   0CC6           00820         rrf             Ventiladoralto,1
018F   0CC7           00821         rrf             Ventiladorbajo,1
0190   1003           00822         bcf             status,c
0191   3028           00823         movlw   .040
0192   0247           00824         subwf   Ventiladorbajo,w                                ;Resultado resta parte baja
0193   00C7           00825         movwf   Ventiladorbajo
0194   1803           00826         btfsc   status,c
0195   2???           00827         goto    restaVentilador
0196                  00828 acarreoVentilador
0196   03C6           00829         decf    Ventiladoralto,1
0197   0846           00830         movf    Ventiladoralto,w
0198   3AFF           00831         xorlw   0xff
0199   1903           00832         btfsc   status,z
019A   2???           00833         goto    apagaVentilador
019B   2???           00834         goto    restaVentilador
019C                  00835 restaVentilador
019C   1003           00836         bcf             status,c
019D   3000           00837         movlw   0x00
019E   0246           00838         subwf   Ventiladoralto,w
019F   00C6           00839         movwf   Ventiladoralto                          ;Resultado resta parte alta
MPASM 5.83           USART PIC RASPBERRY.ASM   3-1-2019  2:32:34         PAGE 18


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

01A0   1803           00840         btfsc   status,c
01A1   2???           00841         goto    encenderVentilador
01A2   2???           00842         goto    apagaVentilador
01A3                  00843 encenderVentilador
01A3   1787           00844         bsf             portc,Ventilador
01A4   2???           00845         goto    MedirCorriente
01A5                  00846 apagaVentilador
01A5   1387           00847         bcf             portc,Ventilador
01A6   2???           00848         goto    MedirCorriente
                      00849 ;==============================================================
                      00850 ;Subrutinas
                      00851 ;==============================================================
                      00852 ;------------------------------------------------------------
01A7                  00853 ConfigADC                                       ;Activación del ADC
                      00854 ;------------------------------------------------------------
01A7   1683           00855         bsf             status,rp0              ;cambia al banco 1
01A8   1303           00856         bcf             status,rp1
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
01A9   179F           00857         bsf             adcon1,adfm             ;justifica ADC a la derecha
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
01AA   101F           00858         bcf             adcon1,pcfg0    ;control de puerto adc          solo el puerto A
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
01AB   149F           00859         bsf             adcon1,pcfg1    ;control de puerto adc          solo el puerto A
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
01AC   111F           00860         bcf             adcon1,pcfg2    ;control de puerto adc          solo el puerto A
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
01AD   119F           00861         bcf             adcon1,pcfg3    ;control de puerto adc          solo el puerto A
01AE   1283           00862         bcf             status,rp0              ;cambia al banco 0
01AF   1303           00863         bcf             status,rp1
01B0   171F           00864         bsf             adcon0,adcs0    ;configura la frecuencia de muestreo
01B1   179F           00865         bsf             adcon0,adcs1    ;configura la frecuencia de muestreo
01B2   141F           00866         bsf             adcon0,adon             ;activa el ADC
                      00867 ;       bsf             intcon,gie              ;activación general de interrupciones
                      00868 ;       bsf             intcon,peie             ;activación de interrupciones por periférico
01B3   1683           00869         bsf             status,rp0              ;cambia al banco 1
01B4   1303           00870         bcf             status,rp1
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
01B5   170C           00871         bsf             pie1,adie               ;activación de interrupción por ADC
01B6   1283           00872         bcf             status,rp0              ;cambia al banco 0
01B7   1303           00873         bcf             status,rp1
01B8   0008           00874         return
                      00875 ;------------------------------------------------------------
                      00876 ;Modo instruccion
                      00877 ;------------------------------------------------------------
01B9                  00878 modoinstru
01B9   0820           00879         movf    varLCD,w                ;enmascara el nibble 
01BA   39F0           00880         andlw   d'240'                  ;alto de la variable varLCD
01BB   0086           00881         movwf   portb
01BC   1586           00882         bsf             portb,3                 ;genera un pulso de
01BD   2???           00883         call    temp10micros    ;habilitacion durante 10 microsegundos
01BE   1186           00884         bcf             portb,3
01BF   0E20           00885         swapf   varLCD,w                ;intercambia los nibbles
01C0   39F0           00886         andlw   d'240'                  ;enmascara el nibble alto
MPASM 5.83           USART PIC RASPBERRY.ASM   3-1-2019  2:32:34         PAGE 19


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

01C1   0086           00887         movwf   portb                   ;de la variable varLCD
01C2   1586           00888         bsf             portb,3                 ;genera un pulso de 
01C3   2???           00889         call    temp10micros    ;habilitacion durante 10 microsegundos
01C4   1186           00890         bcf             portb,3
01C5   1406           00891         bsf             portb,0                 ;regresa el LCD a modo caracter
01C6   0008           00892         return
                      00893 ;------------------------------------------------------------
                      00894 ;Modo caracter
                      00895 ;------------------------------------------------------------
01C7                  00896 modocaracter
01C7   0820           00897         movf    varLCD,w                ;enmascara el nibble 
01C8   39F0           00898         andlw   d'240'                  ;alto de la variable varLCD
01C9   0086           00899         movwf   portb
01CA   1406           00900         bsf             portb,0                 ;coloca al LCD a modo caracter
01CB   1586           00901         bsf             portb,3                 ;genera un pulso de 
01CC   2???           00902         call    temp10micros    ;habilitacion durante 10 microsegundos
01CD   1186           00903         bcf             portb,3
01CE   0E20           00904         swapf   varLCD,w                ;intercambia los nibbles
01CF   39F0           00905         andlw   d'240'                  ;enmascara el nibble alto 
01D0   0086           00906         movwf   portb                   ;de la variable varLCD
01D1   1406           00907         bsf             portb,0                 ;coloca al LCD a modo caracter
01D2   1586           00908         bsf             portb,3                 ;genera un pulso de 
01D3   2???           00909         call    temp10micros    ;habilitacion durante 10 microsegundos
01D4   1186           00910         bcf             portb,3
01D5   0008           00911         return
                      00912 ;------------------------------------------------------------
01D6                  00913 IniciaDisplayLCD                        ;Rutina que inicializa al LCD
                      00914 ;------------------------------------------------------------
01D6   1283           00915         bcf             status,rp0              ;cambiar al banco 0
01D7   1303           00916         bcf             status,rp1
01D8   3000           00917         movlw   0x00
01D9   0086           00918         movwf   portb                   ;limpia todas las lineas de salida
01DA   30C8           00919         movlw   d'200'                  ;temporizacion de 200 ms
01DB   00A8           00920         movwf   ret1                    ;para reestablecer al LCD
01DC   2???           00921         call    Retardos
01DD   3030           00922         movlw   d'48'                   ;fija operación de 8 bits en el 
01DE   0086           00923         movwf   portb                   ;LCD
01DF   1586           00924         bsf             portb,3                 ;genera un pulso de habilitacion
01E0   2???           00925         call    temp10micros    ;durante 10 microsegundos
01E1   1186           00926         bcf             portb,3
01E2   300A           00927         movlw   d'10'                   ;pausa de 100 ms
01E3   00A8           00928         movwf   ret1
01E4   2???           00929         call    Retardos
01E5   1586           00930         bsf             portb,3                 ;genera un pulso de habilitacion
01E6   2???           00931         call    temp10micros    ;durante 10 microsegundos
01E7   1186           00932         bcf             portb,3
01E8   1586           00933         bsf             portb,3                 ;genera un pulso de habilitacion
01E9   2???           00934         call    temp10micros    ;durante 10 microsegundos
01EA   1186           00935         bcf             portb,3
01EB   3020           00936         movlw   d'32'                   ;fija operación de 4 bits en el 
01EC   0086           00937         movwf   portb                   ;LCD
01ED   1586           00938         bsf             portb,3                 ;genera un pulso de habilitacion
01EE   2???           00939         call    temp10micros    ;durante 10 microsegundos
MPASM 5.83           USART PIC RASPBERRY.ASM   3-1-2019  2:32:34         PAGE 20


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

01EF   1186           00940         bcf             portb,3
01F0   1586           00941         bsf             portb,3                 ;genera un pulso de habilitacion
01F1   2???           00942         call    temp10micros    ;durante 10 microsegundos
01F2   1186           00943         bcf             portb,3
01F3   3080           00944         movlw   d'128'                  ;fija operación de 2 lineas en el 
01F4   0086           00945         movwf   portb                   ;LCD
01F5   1586           00946         bsf             portb,3                 ;genera un pulso de habilitacion
01F6   2???           00947         call    temp10micros    ;durante 10 microsegundos
01F7   1186           00948         bcf             portb,3
01F8   300E           00949         movlw   d'14'                   ;instruccion que enciende el cursor
01F9   00A0           00950         movwf   varLCD                  ;del LCD
01FA   2???           00951         call    modoinstru              ;escribe la instruccion en el LCD
01FB   2???           00952         call    retardounseg
01FC   3001           00953         movlw   d'01'                   ;instruccion para limpiar el
01FD   00A0           00954         movwf   varLCD                  ;display y coloca el 
01FE   2???           00955         call    modoinstru              ;cursor al inicio de la primera linea
01FF   3020           00956         movlw   _espaci
0200   00A0           00957         movwf   varLCD
0201   2???           00958         call    modocaracter
0202   2???           00959         call    retardounseg    ;retardo para mostrar los valores
0203   300C           00960         movlw   d'12'                   ;esconde el cursor
0204   00A0           00961         movwf   varLCD
0205   2???           00962         call    modoinstru
0206   2???           00963         call    display
0207   0008           00964         return
                      00965 ;------------------------------------------------------------
0208                  00966 display                                         ;Imprime letreros en diaplay
                      00967 ;------------------------------------------------------------
0208   3080           00968         movlw   d'128'                  ;se coloca en la primer linea
0209   00A0           00969         movwf   varLCD
020A   2???           00970         call    modoinstru
020B   0850           00971         movf    var1ren0,w
020C   00A0           00972         movwf   varLCD
020D   2???           00973         call    modocaracter
020E   0851           00974         movf    var1ren1,w
020F   00A0           00975         movwf   varLCD
0210   2???           00976         call    modocaracter
0211   0852           00977         movf    var1ren2,w
0212   00A0           00978         movwf   varLCD
0213   2???           00979         call    modocaracter
0214   0853           00980         movf    var1ren3,w
0215   00A0           00981         movwf   varLCD
0216   2???           00982         call    modocaracter
0217   0854           00983         movf    var1ren4,w
0218   00A0           00984         movwf   varLCD
0219   2???           00985         call    modocaracter
021A   0855           00986         movf    var1ren5,w
021B   00A0           00987         movwf   varLCD
021C   2???           00988         call    modocaracter
021D   0856           00989         movf    var1ren6,w
021E   00A0           00990         movwf   varLCD
021F   2???           00991         call    modocaracter
0220   0857           00992         movf    var1ren7,w
MPASM 5.83           USART PIC RASPBERRY.ASM   3-1-2019  2:32:34         PAGE 21


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0221   00A0           00993         movwf   varLCD
0222   2???           00994         call    modocaracter
0223   0858           00995         movf    var1ren8,w
0224   00A0           00996         movwf   varLCD
0225   2???           00997         call    modocaracter
0226   0859           00998         movf    var1ren9,w
0227   00A0           00999         movwf   varLCD
0228   2???           01000         call    modocaracter
0229   085A           01001         movf    var1ren10,w
022A   00A0           01002         movwf   varLCD
022B   2???           01003         call    modocaracter
022C   085B           01004         movf    var1ren11,w
022D   00A0           01005         movwf   varLCD
022E   2???           01006         call    modocaracter
022F   085C           01007         movf    var1ren12,w
0230   00A0           01008         movwf   varLCD
0231   2???           01009         call    modocaracter
0232   085D           01010         movf    var1ren13,w
0233   00A0           01011         movwf   varLCD
0234   2???           01012         call    modocaracter
0235   085E           01013         movf    var1ren14,w
0236   00A0           01014         movwf   varLCD
0237   2???           01015         call    modocaracter
0238   085F           01016         movf    var1ren15,w
0239   00A0           01017         movwf   varLCD
023A   2???           01018         call    modocaracter
023B   30C0           01019         movlw   d'192'                  ;instruccion para 
023C   00A0           01020         movwf   varLCD                  ;comenzar la segunda
023D   2???           01021         call    modoinstru              ;linea
023E   0860           01022         movf    var2ren0,w
023F   00A0           01023         movwf   varLCD
0240   2???           01024         call    modocaracter
0241   0861           01025         movf    var2ren1,w
0242   00A0           01026         movwf   varLCD
0243   2???           01027         call    modocaracter
0244   0862           01028         movf    var2ren2,w
0245   00A0           01029         movwf   varLCD
0246   2???           01030         call    modocaracter
0247   0863           01031         movf    var2ren3,w
0248   00A0           01032         movwf   varLCD
0249   2???           01033         call    modocaracter
024A   0864           01034         movf    var2ren4,w
024B   00A0           01035         movwf   varLCD
024C   2???           01036         call    modocaracter
024D   0865           01037         movf    var2ren5,w
024E   00A0           01038         movwf   varLCD
024F   2???           01039         call    modocaracter
0250   0866           01040         movf    var2ren6,w
0251   00A0           01041         movwf   varLCD
0252   2???           01042         call    modocaracter
0253   0867           01043         movf    var2ren7,w
0254   00A0           01044         movwf   varLCD
0255   2???           01045         call    modocaracter
MPASM 5.83           USART PIC RASPBERRY.ASM   3-1-2019  2:32:34         PAGE 22


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0256   0868           01046         movf    var2ren8,w
0257   00A0           01047         movwf   varLCD
0258   2???           01048         call    modocaracter
0259   0869           01049         movf    var2ren9,w
025A   00A0           01050         movwf   varLCD
025B   2???           01051         call    modocaracter
025C   086A           01052         movf    var2ren10,w
025D   00A0           01053         movwf   varLCD
025E   2???           01054         call    modocaracter
025F   086B           01055         movf    var2ren11,w
0260   00A0           01056         movwf   varLCD
0261   2???           01057         call    modocaracter
0262   086C           01058         movf    var2ren12,w
0263   00A0           01059         movwf   varLCD
0264   2???           01060         call    modocaracter
0265   086D           01061         movf    var2ren13,w
0266   00A0           01062         movwf   varLCD
0267   2???           01063         call    modocaracter
0268   086E           01064         movf    var2ren14,w
0269   00A0           01065         movwf   varLCD
026A   2???           01066         call    modocaracter
026B   086F           01067         movf    var2ren15,w
026C   00A0           01068         movwf   varLCD
026D   2???           01069         call    modocaracter
026E   0008           01070         return
                      01071 
                      01072 
                      01073 ;------------------------------------------------------------
                      01074 ;Subrutina para convertir a codigo BCD
                      01075 ;------------------------------------------------------------
026F                  01076 convBINaBCD
026F   1283           01077         bcf             status,rp0      ;cambiar al banco 0
0270   1303           01078         bcf             status,rp1
0271   01A6           01079         clrf    BCDuni
0272   01A5           01080         clrf    BCDdec
0273                  01081 div_entre_10                    ;divide entre 10
0273   1003           01082         bcf             status,c
0274   300A           01083         movlw   .10
0275   02A1           01084         subwf   ValBIN,1
0276   1803           01085         btfsc   status,c
0277   2???           01086         goto    sigresta
0278                  01087 negativo
0278   300A           01088         movlw   .10
0279   0721           01089         addwf   ValBIN,w
027A   00A6           01090         movwf   BCDuni
027B   2???           01091         goto    finconversion
027C                  01092 sigresta
027C   0AA5           01093         incf    BCDdec,1
027D   0821           01094         movf    ValBIN,w        ;pregunta si el resultado de la resta fue 0
027E   3A00           01095         xorlw   0x00
027F   1D03           01096         btfss   status,z
0280   2???           01097         goto    div_entre_10
0281                  01098 finconversion
MPASM 5.83           USART PIC RASPBERRY.ASM   3-1-2019  2:32:34         PAGE 23


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0281   0008           01099         return
                      01100 
                      01101 
                      01102 
                      01103 ;------------------------------------------------------------
0282                  01104 DivisionCalculos
                      01105 ;------------------------------------------------------------
0282   1283           01106         bcf             status,rp0      ;cambiar al banco 0
0283   1303           01107         bcf             status,rp1
0284   01B0           01108         clrf    NumeroEntero
0285   01B1           01109         clrf    NumeroFraccionCen
0286   01B2           01110         clrf    NumeroFraccionDec
0287   01B3           01111         clrf    NumeroFraccionUni
0288                  01112 calculaDecimal
0288   1003           01113         bcf             status,c
0289   0841           01114         movf    divisorUni,w
028A   0223           01115         subwf   adcbajo,w                               ;Resultado resta parte baja
028B   00A3           01116         movwf   adcbajo
028C   1803           01117         btfsc   status,c
028D   2???           01118         goto    restaDecimal
028E                  01119 acarreoDecimal
                      01120 
028E   03A2           01121         decf    adcalto,1
028F   0822           01122         movf    adcalto,w
0290   3AFF           01123         xorlw   0xff
0291   1903           01124         btfsc   status,z
0292   2???           01125         goto    terminaDecimal
0293   2???           01126         goto    restaDecimal
0294                  01127 terminaDecimal
0294   0841           01128         movf    divisorUni,w
0295   07A3           01129         addwf   adcbajo,1
0296   1803           01130         btfsc   status,c
0297   2???           01131         goto    restableceadcaltoDecimal
0298   2???           01132         goto    multiplicaDecimal
0299                  01133 restableceadcaltoDecimal
0299   0AA2           01134         incf    adcalto,1
029A   2???           01135         goto    multiplicaDecimal
                      01136 
029B                  01137 restaDecimal
029B   1003           01138         bcf             status,c
029C   0840           01139         movf    divisorDec,w
029D   0222           01140         subwf   adcalto,w
029E   00A2           01141         movwf   adcalto                         ;Resultado resta parte alta
029F   1803           01142         btfsc   status,c
02A0   2???           01143         goto    resultadopositivoDecimal
02A1                  01144 resultadonegativoDecimal
02A1   0841           01145         movf    divisorUni,w
02A2   07A3           01146         addwf   adcbajo,1
02A3   1803           01147         btfsc   status,c
02A4   2???           01148         goto    incremetaEnteroAlto
02A5   2???           01149         goto    sumarEnteroalta
02A6                  01150 incremetaEnteroAlto
02A6   0AA2           01151         incf    adcalto,1
MPASM 5.83           USART PIC RASPBERRY.ASM   3-1-2019  2:32:34         PAGE 24


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

02A7                  01152 sumarEnteroalta
02A7   0840           01153         movf    divisorDec,w
02A8   07A2           01154         addwf   adcalto,1
02A9   2???           01155         goto    multiplicaDecimal
02AA                  01156 resultadopositivoDecimal
02AA   0AB0           01157         incf    NumeroEntero,1
02AB   0823           01158         movf    adcbajo,w
02AC   3A00           01159         xorlw   0x00
02AD   1D03           01160         btfss   status,z
02AE   2???           01161         goto    calculaDecimal
02AF   0822           01162         movf    adcalto,w
02B0   3A00           01163         xorlw   0x00
02B1   1D03           01164         btfss   status,z
02B2   2???           01165         goto    calculaDecimal
02B3                  01166 multiplicaDecimal
02B3   2???           01167         call    MultiplicacionCalculos
02B4                  01168 calculaFraccionCen
02B4   1003           01169         bcf             status,c
02B5   0841           01170         movf    divisorUni,w
02B6   0223           01171         subwf   adcbajo,w                               ;Resultado resta parte baja
02B7   00A3           01172         movwf   adcbajo
02B8   1803           01173         btfsc   status,c
02B9   2???           01174         goto    restaFraccionCen
02BA                  01175 acarreoFraccionCen
                      01176 
02BA   03A2           01177         decf    adcalto,1
02BB   0822           01178         movf    adcalto,w
02BC   3AFF           01179         xorlw   0xff
02BD   1903           01180         btfsc   status,z
02BE   2???           01181         goto    terminaFraccionCen
02BF   2???           01182         goto    restaFraccionCen
02C0                  01183 terminaFraccionCen
02C0   0841           01184         movf    divisorUni,w
02C1   07A3           01185         addwf   adcbajo,1
02C2   1803           01186         btfsc   status,c
02C3   2???           01187         goto    restableceadcaltoFraccionCen
02C4   2???           01188         goto    multiplicaFraccionCen
02C5                  01189 restableceadcaltoFraccionCen
02C5   0AA2           01190         incf    adcalto,1
02C6   2???           01191         goto    multiplicaFraccionCen
                      01192 
02C7                  01193 restaFraccionCen
02C7   1003           01194         bcf             status,c
02C8   0840           01195         movf    divisorDec,w
02C9   0222           01196         subwf   adcalto,w
02CA   00A2           01197         movwf   adcalto                         ;Resultado resta parte alta
02CB   1803           01198         btfsc   status,c
02CC   2???           01199         goto    resultadopositivoFraccionCen
02CD                  01200 resultadonegativoFraccionCen
02CD   0841           01201         movf    divisorUni,w
02CE   07A3           01202         addwf   adcbajo,1
02CF   1803           01203         btfsc   status,c
02D0   2???           01204         goto    incremetaFraccionCenAlto
MPASM 5.83           USART PIC RASPBERRY.ASM   3-1-2019  2:32:34         PAGE 25


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

02D1   2???           01205         goto    sumarFraccionCenalta
02D2                  01206 incremetaFraccionCenAlto
02D2   0AA2           01207         incf    adcalto,1
02D3                  01208 sumarFraccionCenalta
02D3   0840           01209         movf    divisorDec,w
02D4   07A2           01210         addwf   adcalto,1
02D5   2???           01211         goto    multiplicaFraccionCen
02D6                  01212 resultadopositivoFraccionCen
02D6   0AB1           01213         incf    NumeroFraccionCen,1
02D7   0823           01214         movf    adcbajo,w
02D8   3A00           01215         xorlw   0x00
02D9   1D03           01216         btfss   status,z
02DA   2???           01217         goto    calculaFraccionCen
02DB   0822           01218         movf    adcalto,w
02DC   3A00           01219         xorlw   0x00
02DD   1D03           01220         btfss   status,z
02DE   2???           01221         goto    calculaFraccionCen
02DF                  01222 multiplicaFraccionCen
02DF   2???           01223         call    MultiplicacionCalculos
02E0                  01224 calculaFraccionDec
02E0   1003           01225         bcf             status,c
02E1   0841           01226         movf    divisorUni,w
02E2   0223           01227         subwf   adcbajo,w                               ;Resultado resta parte baja
02E3   00A3           01228         movwf   adcbajo
02E4   1803           01229         btfsc   status,c
02E5   2???           01230         goto    restaFraccionDec
02E6                  01231 acarreoFraccionDec
                      01232 
02E6   03A2           01233         decf    adcalto,1
02E7   0822           01234         movf    adcalto,w
02E8   3AFF           01235         xorlw   0xff
02E9   1903           01236         btfsc   status,z
02EA   2???           01237         goto    terminaFraccionDec
02EB   2???           01238         goto    restaFraccionDec
02EC                  01239 terminaFraccionDec
02EC   0841           01240         movf    divisorUni,w
02ED   07A3           01241         addwf   adcbajo,1
02EE   1803           01242         btfsc   status,c
02EF   2???           01243         goto    restableceadcaltoFraccionDec
02F0   2???           01244         goto    multiplicaFraccionDec
02F1                  01245 restableceadcaltoFraccionDec
02F1   0AA2           01246         incf    adcalto,1
02F2   2???           01247         goto    multiplicaFraccionDec
                      01248 
02F3                  01249 restaFraccionDec
02F3   1003           01250         bcf             status,c
02F4   0840           01251         movf    divisorDec,w
02F5   0222           01252         subwf   adcalto,w
02F6   00A2           01253         movwf   adcalto                         ;Resultado resta parte alta
02F7   1803           01254         btfsc   status,c
02F8   2???           01255         goto    resultadopositivoFraccionDec
02F9                  01256 resultadonegativoFraccionDec
02F9   0841           01257         movf    divisorUni,w
MPASM 5.83           USART PIC RASPBERRY.ASM   3-1-2019  2:32:34         PAGE 26


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

02FA   07A3           01258         addwf   adcbajo,1
02FB   1803           01259         btfsc   status,c
02FC   2???           01260         goto    incremetaFraccionDecAlto
02FD   2???           01261         goto    sumarFraccionDecalta
02FE                  01262 incremetaFraccionDecAlto
02FE   0AA2           01263         incf    adcalto,1
02FF                  01264 sumarFraccionDecalta
02FF   0840           01265         movf    divisorDec,w
0300   07A2           01266         addwf   adcalto,1
0301   2???           01267         goto    multiplicaFraccionDec
0302                  01268 resultadopositivoFraccionDec
0302   0AB2           01269         incf    NumeroFraccionDec,1
0303   0823           01270         movf    adcbajo,w
0304   3A00           01271         xorlw   0x00
0305   1D03           01272         btfss   status,z
0306   2???           01273         goto    calculaFraccionDec
0307   0822           01274         movf    adcalto,w
0308   3A00           01275         xorlw   0x00
0309   1D03           01276         btfss   status,z
030A   2???           01277         goto    calculaFraccionDec
030B                  01278 multiplicaFraccionDec
030B   2???           01279         call    MultiplicacionCalculos
030C                  01280 calculaFraccionUni
030C   1003           01281         bcf             status,c
030D   0841           01282         movf    divisorUni,w
030E   0223           01283         subwf   adcbajo,w                               ;Resultado resta parte baja
030F   00A3           01284         movwf   adcbajo
0310   1803           01285         btfsc   status,c
0311   2???           01286         goto    restaFraccionUni
0312                  01287 acarreoFraccionUni
                      01288 
0312   03A2           01289         decf    adcalto,1
0313   0822           01290         movf    adcalto,w
0314   3AFF           01291         xorlw   0xff
0315   1903           01292         btfsc   status,z
0316   2???           01293         goto    terminaFraccionUni
0317   2???           01294         goto    restaFraccionUni
0318                  01295 terminaFraccionUni
0318   0841           01296         movf    divisorUni,w
0319   07A3           01297         addwf   adcbajo,1
031A   1803           01298         btfsc   status,c
031B   2???           01299         goto    restableceadcaltoFraccionUni
031C   0008           01300         return
031D                  01301 restableceadcaltoFraccionUni
031D   0AA2           01302         incf    adcalto,1
031E   0008           01303         return
                      01304 
031F                  01305 restaFraccionUni
031F   1003           01306         bcf             status,c
0320   0840           01307         movf    divisorDec,w
0321   0222           01308         subwf   adcalto,w
0322   00A2           01309         movwf   adcalto                         ;Resultado resta parte alta
0323   1803           01310         btfsc   status,c
MPASM 5.83           USART PIC RASPBERRY.ASM   3-1-2019  2:32:34         PAGE 27


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0324   2???           01311         goto    resultadopositivoFraccionUni
0325                  01312 resultadonegativoFraccionUni
0325   0841           01313         movf    divisorUni,w
0326   07A3           01314         addwf   adcbajo,1
0327   1803           01315         btfsc   status,c
0328   2???           01316         goto    incremetaFraccionUniAlto
0329   2???           01317         goto    sumarFraccionUnialta
032A                  01318 incremetaFraccionUniAlto
032A   0AA2           01319         incf    adcalto,1
032B                  01320 sumarFraccionUnialta
032B   0840           01321         movf    divisorDec,w
032C   07A2           01322         addwf   adcalto,1
032D   0008           01323         return
032E                  01324 resultadopositivoFraccionUni
032E   0AB3           01325         incf    NumeroFraccionUni,1
                      01326 
032F   0823           01327         movf    adcbajo,w
0330   3A00           01328         xorlw   0x00
0331   1D03           01329         btfss   status,z
0332   2???           01330         goto    calculaFraccionUni
0333   0822           01331         movf    adcalto,w
0334   3A00           01332         xorlw   0x00
0335   1D03           01333         btfss   status,z
0336   2???           01334         goto    calculaFraccionUni
0337   0008           01335         return
                      01336 ;------------------------------------------------------------
0338                  01337 MultiplicacionCalculos
                      01338 ;------------------------------------------------------------
0338   0842           01339         movf    contadorMulti,w
0339   00C3           01340         movwf   contadorMultiOper
033A   0823           01341         movf    adcbajo,w
033B   00C5           01342         movwf   TempMultibajo
033C   0822           01343         movf    adcalto,w
033D   00C4           01344         movwf   TempMultialto
033E                  01345 cicloMulti
033E   0845           01346         movf    TempMultibajo,w
033F   07A3           01347         addwf   adcbajo,1
0340   1803           01348         btfsc   status,c
0341   2???           01349         goto    incremetaVoltsAlto
0342   2???           01350         goto    sumarpartealta
0343                  01351 incremetaVoltsAlto
0343   0AA2           01352         incf    adcalto,1
0344                  01353 sumarpartealta
0344   0844           01354         movf    TempMultialto,w
0345   07A2           01355         addwf   adcalto,1
0346                  01356 terminociclo?
0346   0BC3           01357         decfsz  contadorMultiOper,1
0347   2???           01358         goto    cicloMulti
0348   0008           01359         return
                      01360 ;------------------------------------------------------------
0349                  01361 SubRutAjuste
                      01362 ;------------------------------------------------------------
0349   1822           01363         btfsc   adcalto,0                       ;bit 0 es igual al bit 9
MPASM 5.83           USART PIC RASPBERRY.ASM   3-1-2019  2:32:34         PAGE 28


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

034A   2???           01364         goto    bit9es1
034B   18A2           01365         btfsc   adcalto,1                       ;bit 1 es igual al bit 10
034C   2???           01366         goto    Bit9_es_0_Bit10_es_1
034D   2???           01367         goto    Bit9_10_son_0
034E                  01368 bit9es1
034E   18A2           01369         btfsc   adcalto,1
034F   2???           01370         goto    Bit9_10_son_1
0350   2???           01371         goto    Bit9_es_1_Bit10_es_0
0351                  01372 Bit9_10_son_0
0351   3000           01373         movlw   0x00
0352   00C8           01374         movwf   RutAjuste
0353   0008           01375         return
0354                  01376 Bit9_es_1_Bit10_es_0
0354   3001           01377         movlw   0x01
0355   00C8           01378         movwf   RutAjuste
0356   0008           01379         return
0357                  01380 Bit9_es_0_Bit10_es_1
0357   3002           01381         movlw   0x02
0358   00C8           01382         movwf   RutAjuste
0359   0008           01383         return
035A                  01384 Bit9_10_son_1
035A   3003           01385         movlw   0x03
035B   00C8           01386         movwf   RutAjuste
035C   0008           01387         return
                      01388 ;------------------------------------------------------------
035D                  01389 letreroBienvenida
                      01390 ;------------------------------------------------------------
035D   1283           01391         bcf             status,rp0      ;cambiar al banco 0
035E   1303           01392         bcf             status,rp1
035F   3020           01393         movlw   _espaci
0360   00D0           01394         movwf   var1ren0
0361   3020           01395         movlw   _espaci
0362   00D1           01396         movwf   var1ren1
0363   3020           01397         movlw   _espaci
0364   00D2           01398         movwf   var1ren2
0365   3020           01399         movlw   _espaci
0366   00D3           01400         movwf   var1ren3
0367   3020           01401         movlw   _espaci
0368   00D4           01402         movwf   var1ren4
0369   3053           01403         movlw   _S
036A   00D5           01404         movwf   var1ren5
036B   304D           01405         movlw   _M
036C   00D6           01406         movwf   var1ren6
036D   3043           01407         movlw   _C
036E   00D7           01408         movwf   var1ren7
036F   3050           01409         movlw   _P
0370   00D8           01410         movwf   var1ren8
0371   3041           01411         movlw   _A
0372   00D9           01412         movwf   var1ren9
0373   304D           01413         movlw   _M
0374   00DA           01414         movwf   var1ren10
0375   3020           01415         movlw   _espaci
0376   00DB           01416         movwf   var1ren11
MPASM 5.83           USART PIC RASPBERRY.ASM   3-1-2019  2:32:34         PAGE 29


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0377   3020           01417         movlw   _espaci
0378   00DC           01418         movwf   var1ren12
0379   3020           01419         movlw   _espaci
037A   00DD           01420         movwf   var1ren13
037B   3020           01421         movlw   _espaci
037C   00DE           01422         movwf   var1ren14
037D   3020           01423         movlw   _espaci
037E   00DF           01424         movwf   var1ren15
037F   3020           01425         movlw   _espaci
0380   00E0           01426         movwf   var2ren0
0381   3054           01427         movlw   _T
0382   00E1           01428         movwf   var2ren1
0383   3054           01429         movlw   _T
0384   00E2           01430         movwf   var2ren2
0385   3020           01431         movlw   _espaci
0386   00E3           01432         movwf   var2ren3
0387   3032           01433         movlw   _2
0388   00E4           01434         movwf   var2ren4
0389   3030           01435         movlw   _0
038A   00E5           01436         movwf   var2ren5
038B   3031           01437         movlw   _1
038C   00E6           01438         movwf   var2ren6
038D   3038           01439         movlw   _8
038E   00E7           01440         movwf   var2ren7
038F   3020           01441         movlw   _espaci
0390   00E8           01442         movwf   var2ren8
0391   302D           01443         movlw   _menos
0392   00E9           01444         movwf   var2ren9
0393   3020           01445         movlw   _espaci
0394   00EA           01446         movwf   var2ren10
0395   3041           01447         movlw   _A
0396   00EB           01448         movwf   var2ren11
0397   3031           01449         movlw   _1
0398   00EC           01450         movwf   var2ren12
0399   3030           01451         movlw   _0
039A   00ED           01452         movwf   var2ren13
039B   3032           01453         movlw   _2
039C   00EE           01454         movwf   var2ren14
039D   3020           01455         movlw   _espaci
039E   00EF           01456         movwf   var2ren15
039F   0008           01457         return
                      01458 ;------------------------------------------------------------
03A0                  01459 Primerletrero
                      01460 ;------------------------------------------------------------
03A0   1283           01461         bcf             status,rp0      ;cambiar al banco 0
03A1   1303           01462         bcf             status,rp1
03A2   3056           01463         movlw   _V
03A3   00D0           01464         movwf   var1ren0
03A4   3020           01465         movlw   _espaci
03A5   00D1           01466         movwf   var1ren1
03A6   0834           01467         movf    VoltsDec,w
03A7   00D2           01468         movwf   var1ren2
03A8   0835           01469         movf    VoltsUni,w
MPASM 5.83           USART PIC RASPBERRY.ASM   3-1-2019  2:32:34         PAGE 30


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

03A9   00D3           01470         movwf   var1ren3
03AA   302E           01471         movlw   _punto
03AB   00D4           01472         movwf   var1ren4
03AC   0837           01473         movf    VoltsFracUni,w
03AD   00D5           01474         movwf   var1ren5
03AE   0836           01475         movf    VoltsFracDec,w
03AF   00D6           01476         movwf   var1ren6
03B0   3056           01477         movlw   _V
03B1   00D7           01478         movwf   var1ren7
03B2   3020           01479         movlw   _espaci
03B3   00D8           01480         movwf   var1ren8
03B4   3020           01481         movlw   _espaci
03B5   00D9           01482         movwf   var1ren9
03B6   3054           01483         movlw   _T
03B7   00DA           01484         movwf   var1ren10
03B8   3065           01485         movlw   _e
03B9   00DB           01486         movwf   var1ren11
03BA   306D           01487         movlw   _m
03BB   00DC           01488         movwf   var1ren12
03BC   3070           01489         movlw   _p
03BD   00DD           01490         movwf   var1ren13
03BE   3020           01491         movlw   _espaci
03BF   00DE           01492         movwf   var1ren14
03C0   3020           01493         movlw   _espaci
03C1   00DF           01494         movwf   var1ren15
03C2   3049           01495         movlw   _I
03C3   00E0           01496         movwf   var2ren0
03C4   3020           01497         movlw   _espaci
03C5   00E1           01498         movwf   var2ren1
03C6   0838           01499         movf    AmperUni,w
03C7   00E2           01500         movwf   var2ren2
03C8   302E           01501         movlw   _punto
03C9   00E3           01502         movwf   var2ren3
03CA   0839           01503         movf    AmperFraCen,w
03CB   00E4           01504         movwf   var2ren4
03CC   083A           01505         movf    AmperFraDec,w
03CD   00E5           01506         movwf   var2ren5
03CE   083B           01507         movf    AmperFraUni,w
03CF   00E6           01508         movwf   var2ren6
03D0   3041           01509         movlw   _A
03D1   00E7           01510         movwf   var2ren7
03D2   3020           01511         movlw   _espaci
03D3   00E8           01512         movwf   var2ren8
03D4   083C           01513         movf    DecTemp,w
03D5   00E9           01514         movwf   var2ren9
03D6   083D           01515         movf    UniTemp,w
03D7   00EA           01516         movwf   var2ren10
03D8   302E           01517         movlw   _punto
03D9   00EB           01518         movwf   var2ren11
03DA   083E           01519         movf    FraTemp,w
03DB   00EC           01520         movwf   var2ren12
03DC   3020           01521         movlw   _espaci
03DD   00ED           01522         movwf   var2ren13
MPASM 5.83           USART PIC RASPBERRY.ASM   3-1-2019  2:32:34         PAGE 31


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

03DE   30DF           01523         movlw   _grado
03DF   00EE           01524         movwf   var2ren14
03E0   3043           01525         movlw   _C
03E1   00EF           01526         movwf   var2ren15
03E2   0008           01527         return
                      01528 
                      01529 
                      01530 
                      01531 
                      01532 ;------------------------------------------------------------
03E3                  01533 PantallaRX                              ;CÓDIGO DE PRUEBA
                      01534 ;------------------------------------------------------------
03E3   1283           01535         bcf             status,rp0      ;cambiar al banco 0
03E4   1303           01536         bcf             status,rp1
03E5   3052           01537         movlw   _R
03E6   00D0           01538         movwf   var1ren0
03E7   3078           01539         movlw   _x
03E8   00D1           01540         movwf   var1ren1
03E9   3044           01541         movlw   _D
03EA   00D2           01542         movwf   var1ren2
03EB   3065           01543         movlw   _e
03EC   00D3           01544         movwf   var1ren3
03ED   3063           01545         movlw   _c
03EE   00D4           01546         movwf   var1ren4
03EF   3020           01547         movlw   _espaci
03F0   00D5           01548         movwf   var1ren5
03F1   0871           01549         movf    BCDCen,w
03F2   00D6           01550         movwf   var1ren6
03F3   0872           01551         movf    BCDDec,w
03F4   00D7           01552         movwf   var1ren7
03F5   0873           01553         movf    BCDUni,w
03F6   00D8           01554         movwf   var1ren8
03F7   3020           01555         movlw   _espaci
03F8   00D9           01556         movwf   var1ren9
03F9   3048           01557         movlw   _H
03FA   00DA           01558         movwf   var1ren10
03FB   3065           01559         movlw   _e
03FC   00DB           01560         movwf   var1ren11
03FD   3078           01561         movlw   _x
03FE   00DC           01562         movwf   var1ren12
03FF   3020           01563         movlw   _espaci
0400   00DD           01564         movwf   var1ren13
0401   0875           01565         movf    HexAlto,w
0402   00DE           01566         movwf   var1ren14
0403   0876           01567         movf    HexBajo,w
0404   00DF           01568         movwf   var1ren15
0405   3052           01569         movlw   _R
0406   00E0           01570         movwf   var2ren0
0407   3078           01571         movlw   _x
0408   00E1           01572         movwf   var2ren1
0409   3041           01573         movlw   _A
040A   00E2           01574         movwf   var2ren2
040B   3053           01575         movlw   _S
MPASM 5.83           USART PIC RASPBERRY.ASM   3-1-2019  2:32:34         PAGE 32


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

040C   00E3           01576         movwf   var2ren3
040D   3043           01577         movlw   _C
040E   00E4           01578         movwf   var2ren4
040F   3043           01579         movlw   _C
0410   00E5           01580         movwf   var2ren5
0411   3049           01581         movlw   _I
0412   00E6           01582         movwf   var2ren6
0413   3020           01583         movlw   _espaci
0414   00E7           01584         movwf   var2ren7
0415   084B           01585         movf    RxUSART,w
0416   00E8           01586         movwf   var2ren8
0417   3020           01587         movlw   _espaci
0418   00E9           01588         movwf   var2ren9
0419   3020           01589         movlw   _espaci
041A   00EA           01590         movwf   var2ren10
041B   3020           01591         movlw   _espaci
041C   00EB           01592         movwf   var2ren11
041D   3020           01593         movlw   _espaci
041E   00EC           01594         movwf   var2ren12
041F   3020           01595         movlw   _espaci
0420   00ED           01596         movwf   var2ren13
0421   3020           01597         movlw   _espaci
0422   00EE           01598         movwf   var2ren14
0423   3020           01599         movlw   _espaci
0424   00EF           01600         movwf   var2ren15
0425   0008           01601         return
                      01602 ;------------------------------------------------------------
0426                  01603 PantallaTX                              ;CÓDIGO DE PRUEBA
                      01604 ;------------------------------------------------------------
0426   1283           01605         bcf             status,rp0      ;cambiar al banco 0
0427   1303           01606         bcf             status,rp1
0428   3052           01607         movlw   _R
0429   00D0           01608         movwf   var1ren0
042A   3078           01609         movlw   _x
042B   00D1           01610         movwf   var1ren1
042C   3044           01611         movlw   _D
042D   00D2           01612         movwf   var1ren2
042E   3065           01613         movlw   _e
042F   00D3           01614         movwf   var1ren3
0430   3063           01615         movlw   _c
0431   00D4           01616         movwf   var1ren4
0432   3020           01617         movlw   _espaci
0433   00D5           01618         movwf   var1ren5
0434   0871           01619         movf    BCDCen,w
0435   00D6           01620         movwf   var1ren6
0436   0872           01621         movf    BCDDec,w
0437   00D7           01622         movwf   var1ren7
0438   0873           01623         movf    BCDUni,w
0439   00D8           01624         movwf   var1ren8
043A   3020           01625         movlw   _espaci
043B   00D9           01626         movwf   var1ren9
043C   3048           01627         movlw   _H
043D   00DA           01628         movwf   var1ren10
MPASM 5.83           USART PIC RASPBERRY.ASM   3-1-2019  2:32:34         PAGE 33


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

043E   3065           01629         movlw   _e
043F   00DB           01630         movwf   var1ren11
0440   3078           01631         movlw   _x
0441   00DC           01632         movwf   var1ren12
0442   3020           01633         movlw   _espaci
0443   00DD           01634         movwf   var1ren13
0444   0875           01635         movf    HexAlto,w
0445   00DE           01636         movwf   var1ren14
0446   0876           01637         movf    HexBajo,w
0447   00DF           01638         movwf   var1ren15
0448   3052           01639         movlw   _R
0449   00E0           01640         movwf   var2ren0
044A   3078           01641         movlw   _x
044B   00E1           01642         movwf   var2ren1
044C   3041           01643         movlw   _A
044D   00E2           01644         movwf   var2ren2
044E   3053           01645         movlw   _S
044F   00E3           01646         movwf   var2ren3
0450   3043           01647         movlw   _C
0451   00E4           01648         movwf   var2ren4
0452   3043           01649         movlw   _C
0453   00E5           01650         movwf   var2ren5
0454   3049           01651         movlw   _I
0455   00E6           01652         movwf   var2ren6
0456   3020           01653         movlw   _espaci
0457   00E7           01654         movwf   var2ren7
0458   084B           01655         movf    RxUSART,w
0459   00E8           01656         movwf   var2ren8
045A   3020           01657         movlw   _espaci
045B   00E9           01658         movwf   var2ren9
045C   3050           01659         movlw   _P
045D   00EA           01660         movwf   var2ren10
045E   3049           01661         movlw   _I
045F   00EB           01662         movwf   var2ren11
0460   3043           01663         movlw   _C
0461   00EC           01664         movwf   var2ren12
0462   3020           01665         movlw   _espaci
0463   00ED           01666         movwf   var2ren13
0464   3054           01667         movlw   _T
0465   00EE           01668         movwf   var2ren14
0466   3078           01669         movlw   _x
0467   00EF           01670         movwf   var2ren15
0468   0008           01671         return
                      01672 ;------------------------------------------------------------
0469                  01673 valores_TX                              ;CÓDIGO DE PRUEBA
                      01674 ;------------------------------------------------------------
0469   1283           01675         bcf             status,rp0      ;cambiar al banco 0
046A   1303           01676         bcf             status,rp1
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
046B   0820           01677         movf    T1Alto,w
046C   00D0           01678         movwf   var1ren0
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
046D   0821           01679         movf    T1Bajo,w
MPASM 5.83           USART PIC RASPBERRY.ASM   3-1-2019  2:32:34         PAGE 34


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

046E   00D1           01680         movwf   var1ren1
046F   3020           01681         movlw   _espaci
0470   00D2           01682         movwf   var1ren2
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0471   0822           01683         movf    T2Alto,w
0472   00D3           01684         movwf   var1ren3
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0473   0823           01685         movf    T2Bajo,w
0474   00D4           01686         movwf   var1ren4
0475   3020           01687         movlw   _espaci
0476   00D5           01688         movwf   var1ren5
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0477   0824           01689         movf    T3Alto,w
0478   00D6           01690         movwf   var1ren6
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0479   0825           01691         movf    T3Bajo,w
047A   00D7           01692         movwf   var1ren7
047B   3020           01693         movlw   _espaci
047C   00D8           01694         movwf   var1ren8
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
047D   0826           01695         movf    T4Alto,w
047E   00D9           01696         movwf   var1ren9
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
047F   0827           01697         movf    T4Bajo,w
0480   00DA           01698         movwf   var1ren10
0481   3020           01699         movlw   _espaci
0482   00DB           01700         movwf   var1ren11
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0483   0828           01701         movf    T5Alto,w
0484   00DC           01702         movwf   var1ren12
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0485   0829           01703         movf    T5Bajo,w
0486   00DD           01704         movwf   var1ren13
0487   3020           01705         movlw   _espaci
0488   00DE           01706         movwf   var1ren14
0489   3020           01707         movlw   _espaci
048A   00DF           01708         movwf   var1ren15
048B   3020           01709         movlw   _espaci
048C   00E0           01710         movwf   var2ren0
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
048D   082A           01711         movf    T6Alto,w
048E   00E1           01712         movwf   var2ren1
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
048F   082B           01713         movf    T6Bajo,w
0490   00E2           01714         movwf   var2ren2
0491   3020           01715         movlw   _espaci
0492   00E3           01716         movwf   var2ren3
0493   3020           01717         movlw   _espaci
0494   00E4           01718         movwf   var2ren4
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0495   082C           01719         movf    T7Alto,w
0496   00E5           01720         movwf   var2ren5
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
MPASM 5.83           USART PIC RASPBERRY.ASM   3-1-2019  2:32:34         PAGE 35


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0497   082D           01721         movf    T7Bajo,w
0498   00E6           01722         movwf   var2ren6
0499   3020           01723         movlw   _espaci
049A   00E7           01724         movwf   var2ren7
049B   3020           01725         movlw   _espaci
049C   00E8           01726         movwf   var2ren8
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
049D   082E           01727         movf    T8Alto,w
049E   00E9           01728         movwf   var2ren9
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
049F   082F           01729         movf    T8Bajo,w
04A0   00EA           01730         movwf   var2ren10
04A1   3020           01731         movlw   _espaci
04A2   00EB           01732         movwf   var2ren11
04A3   3020           01733         movlw   _espaci
04A4   00EC           01734         movwf   var2ren12
04A5   3020           01735         movlw   _espaci
04A6   00ED           01736         movwf   var2ren13
04A7   3020           01737         movlw   _espaci
04A8   00EE           01738         movwf   var2ren14
04A9   3020           01739         movlw   _espaci
04AA   00EF           01740         movwf   var2ren15
04AB   0008           01741         return
                      01742 ;------------------------------------------------------------
04AC                  01743 CONV_BINaBCD                            ;CÓDIGO DE PRUEBA               ;Subrutina para convertir a codi
                            go BCD
                      01744 ;------------------------------------------------------------
04AC   1283           01745         bcf             status,rp0      ;cambiar al banco 0
04AD   1303           01746         bcf             status,rp1
04AE   01F3           01747         clrf    BCDUni
04AF   01F2           01748         clrf    BCDDec
04B0   01F1           01749         clrf    BCDCen
04B1                  01750 div_entre_100                           ;divide entre 100
04B1   1003           01751         bcf             status,c
04B2   3064           01752         movlw   .100
04B3   02F0           01753         subwf   ValRx,1
04B4   1803           01754         btfsc   status,c
04B5   2???           01755         goto    sigrestaCen
04B6                  01756 negativo_100
04B6   3064           01757         movlw   .100
04B7   07F0           01758         addwf   ValRx,1
04B8   2???           01759         goto    div_entre_10_BCD
04B9                  01760 sigrestaCen
04B9   0AF1           01761         incf    BCDCen,1
04BA   0870           01762         movf    ValRx,w                 ;pregunta si el resultado de la resta fue 0
04BB   3A00           01763         xorlw   0x00
04BC   1D03           01764         btfss   status,z
04BD   2???           01765         goto    div_entre_100
04BE                  01766 div_entre_10_BCD                        ;divide entre 10
04BE   1003           01767         bcf             status,c
04BF   300A           01768         movlw   .10
04C0   02F0           01769         subwf   ValRx,1
04C1   1803           01770         btfsc   status,c
MPASM 5.83           USART PIC RASPBERRY.ASM   3-1-2019  2:32:34         PAGE 36


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

04C2   2???           01771         goto    sigrestaBCD
04C3                  01772 negativo_10
04C3   300A           01773         movlw   .10
04C4   0770           01774         addwf   ValRx,w
04C5   00F3           01775         movwf   BCDUni
04C6   2???           01776         goto    finconversionBCD
04C7                  01777 sigrestaBCD
04C7   0AF2           01778         incf    BCDDec,1
04C8   0870           01779         movf    ValRx,w ;pregunta si el resultado de la resta fue 0
04C9   3A00           01780         xorlw   0x00
04CA   1D03           01781         btfss   status,z
04CB   2???           01782         goto    div_entre_10_BCD
04CC                  01783 finconversionBCD
04CC   3030           01784         movlw   0x30
04CD   04F3           01785         iorwf   BCDUni,1
04CE   04F2           01786         iorwf   BCDDec,1
04CF   04F1           01787         iorwf   BCDCen,1
04D0   0008           01788         return
                      01789 ;------------------------------------------------------------
04D1                  01790 CONV_BINaHEX                            ;CÓDIGO DE PRUEBA               ;Subrutina para convertir a codi
                            go HEX
                      01791 ;------------------------------------------------------------
04D1   1283           01792         bcf             status,rp0      ;cambiar al banco 0
04D2   1303           01793         bcf             status,rp1
04D3   01F5           01794         clrf    HexAlto
04D4   01F6           01795         clrf    HexBajo
04D5                  01796 ParteBaja
04D5   0874           01797         movf    ValRxHex,w
04D6   00F6           01798         movwf   HexBajo
04D7   300F           01799         movlw   0x0f
04D8   05F6           01800         andwf   HexBajo,1
04D9   0876           01801         movf    HexBajo,w
04DA   3A00           01802         xorlw   0x00
04DB   1903           01803         btfsc   status,z
04DC   2???           01804         goto    carga0
04DD   0876           01805         movf    HexBajo,w
04DE   3A01           01806         xorlw   0x01
04DF   1903           01807         btfsc   status,z
04E0   2???           01808         goto    carga1
04E1   0876           01809         movf    HexBajo,w
04E2   3A02           01810         xorlw   0x02
04E3   1903           01811         btfsc   status,z
04E4   2???           01812         goto    carga2
04E5   0876           01813         movf    HexBajo,w
04E6   3A03           01814         xorlw   0x03
04E7   1903           01815         btfsc   status,z
04E8   2???           01816         goto    carga3
04E9   0876           01817         movf    HexBajo,w
04EA   3A04           01818         xorlw   0x04
04EB   1903           01819         btfsc   status,z
04EC   2???           01820         goto    carga4
04ED   0876           01821         movf    HexBajo,w
04EE   3A05           01822         xorlw   0x05
MPASM 5.83           USART PIC RASPBERRY.ASM   3-1-2019  2:32:34         PAGE 37


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

04EF   1903           01823         btfsc   status,z
04F0   2???           01824         goto    carga5
04F1   0876           01825         movf    HexBajo,w
04F2   3A06           01826         xorlw   0x06
04F3   1903           01827         btfsc   status,z
04F4   2???           01828         goto    carga6
04F5   0876           01829         movf    HexBajo,w
04F6   3A07           01830         xorlw   0x07
04F7   1903           01831         btfsc   status,z
04F8   2???           01832         goto    carga7
04F9   0876           01833         movf    HexBajo,w
04FA   3A08           01834         xorlw   0x08
04FB   1903           01835         btfsc   status,z
04FC   2???           01836         goto    carga8
04FD   0876           01837         movf    HexBajo,w
04FE   3A09           01838         xorlw   0x09
04FF   1903           01839         btfsc   status,z
0500   2???           01840         goto    carga9
0501   0876           01841         movf    HexBajo,w
0502   3A0A           01842         xorlw   0x0a
0503   1903           01843         btfsc   status,z
0504   2???           01844         goto    cargaa
0505   0876           01845         movf    HexBajo,w
0506   3A0B           01846         xorlw   0x0b
0507   1903           01847         btfsc   status,z
0508   2???           01848         goto    cargab
0509   0876           01849         movf    HexBajo,w
050A   3A0C           01850         xorlw   0x0c
050B   1903           01851         btfsc   status,z
050C   2???           01852         goto    cargac
050D   0876           01853         movf    HexBajo,w
050E   3A0D           01854         xorlw   0x0d
050F   1903           01855         btfsc   status,z
0510   2???           01856         goto    cargad
0511   0876           01857         movf    HexBajo,w
0512   3A0E           01858         xorlw   0x0e
0513   1903           01859         btfsc   status,z
0514   2???           01860         goto    cargae
0515   0876           01861         movf    HexBajo,w
0516   3A0F           01862         xorlw   0x0f
0517   1903           01863         btfsc   status,z
0518   2???           01864         goto    cargaf
0519                  01865 carga0
0519   3030           01866         movlw   _0
051A   00F6           01867         movwf   HexBajo
051B   2???           01868         goto    ParteAlta
051C                  01869 carga1
051C   3031           01870         movlw   _1
051D   00F6           01871         movwf   HexBajo
051E   2???           01872         goto    ParteAlta
051F                  01873 carga2
051F   3032           01874         movlw   _2
0520   00F6           01875         movwf   HexBajo
MPASM 5.83           USART PIC RASPBERRY.ASM   3-1-2019  2:32:34         PAGE 38


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0521   2???           01876         goto    ParteAlta
0522                  01877 carga3
0522   3033           01878         movlw   _3
0523   00F6           01879         movwf   HexBajo
0524   2???           01880         goto    ParteAlta
0525                  01881 carga4
0525   3034           01882         movlw   _4
0526   00F6           01883         movwf   HexBajo
0527   2???           01884         goto    ParteAlta
0528                  01885 carga5
0528   3035           01886         movlw   _5
0529   00F6           01887         movwf   HexBajo
052A   2???           01888         goto    ParteAlta
052B                  01889 carga6
052B   3036           01890         movlw   _6
052C   00F6           01891         movwf   HexBajo
052D   2???           01892         goto    ParteAlta
052E                  01893 carga7
052E   3037           01894         movlw   _7
052F   00F6           01895         movwf   HexBajo
0530   2???           01896         goto    ParteAlta
0531                  01897 carga8
0531   3038           01898         movlw   _8
0532   00F6           01899         movwf   HexBajo
0533   2???           01900         goto    ParteAlta
0534                  01901 carga9
0534   3039           01902         movlw   _9
0535   00F6           01903         movwf   HexBajo
0536   2???           01904         goto    ParteAlta
0537                  01905 cargaa
0537   3041           01906         movlw   _A
0538   00F6           01907         movwf   HexBajo
0539   2???           01908         goto    ParteAlta
053A                  01909 cargab
053A   3042           01910         movlw   _B
053B   00F6           01911         movwf   HexBajo
053C   2???           01912         goto    ParteAlta
053D                  01913 cargac
053D   3043           01914         movlw   _C
053E   00F6           01915         movwf   HexBajo
053F   2???           01916         goto    ParteAlta
0540                  01917 cargad
0540   3044           01918         movlw   _D
0541   00F6           01919         movwf   HexBajo
0542   2???           01920         goto    ParteAlta
0543                  01921 cargae
0543   3045           01922         movlw   _E
0544   00F6           01923         movwf   HexBajo
0545   2???           01924         goto    ParteAlta
0546                  01925 cargaf
0546   3046           01926         movlw   _F
0547   00F6           01927         movwf   HexBajo
0548   2???           01928         goto    ParteAlta
MPASM 5.83           USART PIC RASPBERRY.ASM   3-1-2019  2:32:34         PAGE 39


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0549                  01929 ParteAlta
0549   0EF4           01930         swapf   ValRxHex,1
054A   300F           01931         movlw   0x0f
054B   0574           01932         andwf   ValRxHex,w
054C   00F5           01933         movwf   HexAlto
054D   0875           01934         movf    HexAlto,w
054E   3A00           01935         xorlw   0x00
054F   1903           01936         btfsc   status,z
0550   2???           01937         goto    carga00
0551   0875           01938         movf    HexAlto,w
0552   3A01           01939         xorlw   0x01
0553   1903           01940         btfsc   status,z
0554   2???           01941         goto    carga01
0555   0875           01942         movf    HexAlto,w
0556   3A02           01943         xorlw   0x02
0557   1903           01944         btfsc   status,z
0558   2???           01945         goto    carga02
0559   0875           01946         movf    HexAlto,w
055A   3A03           01947         xorlw   0x03
055B   1903           01948         btfsc   status,z
055C   2???           01949         goto    carga03
055D   0875           01950         movf    HexAlto,w
055E   3A04           01951         xorlw   0x04
055F   1903           01952         btfsc   status,z
0560   2???           01953         goto    carga04
0561   0875           01954         movf    HexAlto,w
0562   3A05           01955         xorlw   0x05
0563   1903           01956         btfsc   status,z
0564   2???           01957         goto    carga05
0565   0875           01958         movf    HexAlto,w
0566   3A06           01959         xorlw   0x06
0567   1903           01960         btfsc   status,z
0568   2???           01961         goto    carga06
0569   0875           01962         movf    HexAlto,w
056A   3A07           01963         xorlw   0x07
056B   1903           01964         btfsc   status,z
056C   2???           01965         goto    carga07
056D   0875           01966         movf    HexAlto,w
056E   3A08           01967         xorlw   0x08
056F   1903           01968         btfsc   status,z
0570   2???           01969         goto    carga08
0571   0875           01970         movf    HexAlto,w
0572   3A09           01971         xorlw   0x09
0573   1903           01972         btfsc   status,z
0574   2???           01973         goto    carga09
0575   0875           01974         movf    HexAlto,w
0576   3A0A           01975         xorlw   0x0a
0577   1903           01976         btfsc   status,z
0578   2???           01977         goto    carga0a
0579   0875           01978         movf    HexAlto,w
057A   3A0B           01979         xorlw   0x0b
057B   1903           01980         btfsc   status,z
057C   2???           01981         goto    carga0b
MPASM 5.83           USART PIC RASPBERRY.ASM   3-1-2019  2:32:34         PAGE 40


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

057D   0875           01982         movf    HexAlto,w
057E   3A0C           01983         xorlw   0x0c
057F   1903           01984         btfsc   status,z
0580   2???           01985         goto    carga0c
0581   0875           01986         movf    HexAlto,w
0582   3A0D           01987         xorlw   0x0d
0583   1903           01988         btfsc   status,z
0584   2???           01989         goto    carga0d
0585   0875           01990         movf    HexAlto,w
0586   3A0E           01991         xorlw   0x0e
0587   1903           01992         btfsc   status,z
0588   2???           01993         goto    carga0e
0589   0875           01994         movf    HexAlto,w
058A   3A0F           01995         xorlw   0x0f
058B   1903           01996         btfsc   status,z
058C   2???           01997         goto    carga0f
058D                  01998 carga00
058D   3030           01999         movlw   _0
058E   00F5           02000         movwf   HexAlto
058F   0008           02001         return
0590                  02002 carga01
0590   3031           02003         movlw   _1
0591   00F5           02004         movwf   HexAlto
0592   0008           02005         return
0593                  02006 carga02
0593   3032           02007         movlw   _2
0594   00F5           02008         movwf   HexAlto
0595   0008           02009         return
0596                  02010 carga03
0596   3033           02011         movlw   _3
0597   00F5           02012         movwf   HexAlto
0598   0008           02013         return
0599                  02014 carga04
0599   3034           02015         movlw   _4
059A   00F5           02016         movwf   HexAlto
059B   0008           02017         return
059C                  02018 carga05
059C   3035           02019         movlw   _5
059D   00F5           02020         movwf   HexAlto
059E   0008           02021         return
059F                  02022 carga06
059F   3036           02023         movlw   _6
05A0   00F5           02024         movwf   HexAlto
05A1   0008           02025         return
05A2                  02026 carga07
05A2   3037           02027         movlw   _7
05A3   00F5           02028         movwf   HexAlto
05A4   0008           02029         return
05A5                  02030 carga08
05A5   3038           02031         movlw   _8
05A6   00F5           02032         movwf   HexAlto
05A7   0008           02033         return
05A8                  02034 carga09
MPASM 5.83           USART PIC RASPBERRY.ASM   3-1-2019  2:32:34         PAGE 41


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

05A8   3039           02035         movlw   _9
05A9   00F5           02036         movwf   HexAlto
05AA   0008           02037         return
05AB                  02038 carga0a
05AB   3041           02039         movlw   _A
05AC   00F5           02040         movwf   HexAlto
05AD   0008           02041         return
05AE                  02042 carga0b
05AE   3042           02043         movlw   _B
05AF   00F5           02044         movwf   HexAlto
05B0   0008           02045         return
05B1                  02046 carga0c
05B1   3043           02047         movlw   _C
05B2   00F5           02048         movwf   HexAlto
05B3   0008           02049         return
05B4                  02050 carga0d
05B4   3044           02051         movlw   _D
05B5   00F5           02052         movwf   HexAlto
05B6   0008           02053         return
05B7                  02054 carga0e
05B7   3045           02055         movlw   _E
05B8   00F5           02056         movwf   HexAlto
05B9   0008           02057         return
05BA                  02058 carga0f
05BA   3046           02059         movlw   _F
05BB   00F5           02060         movwf   HexAlto
05BC   0008           02061         return
                      02062 
                      02063 
                      02064 
                      02065 
                      02066 
                      02067 
                      02068 
                      02069 ;------------------------------------------------------------
05BD                  02070 Retardos                                        ;Retardo de 200 milisegundos
                      02071 ;------------------------------------------------------------
05BD                  02072 ret1_3
05BD   3002           02073         movlw   .02
05BE   00A9           02074         movwf   ret2
05BF                  02075 ret1_2
05BF   30A6           02076         movlw   .166
05C0   00AA           02077         movwf   ret3
05C1                  02078 ret1_1
05C1   0BAA           02079         decfsz  ret3,1                  ;497microsegundos=aprox0.5milisegundos
05C2   2???           02080         goto    ret1_1
05C3   0BA9           02081         decfsz  ret2,1
05C4   2???           02082         goto    ret1_2
05C5   0BA8           02083         decfsz  ret1,1
05C6   2???           02084         goto    ret1_3
05C7   0008           02085         return
                      02086 ;------------------------------------------------------------
05C8                  02087 temp10micros                            ;Retardo de 10 microsegundos
MPASM 5.83           USART PIC RASPBERRY.ASM   3-1-2019  2:32:34         PAGE 42


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      02088 ;------------------------------------------------------------
05C8   300A           02089         movlw   .10
05C9   00AA           02090         movwf   ret3
05CA                  02091 ret2_1
05CA   0BAA           02092         decfsz  ret3,1
05CB   2???           02093         goto    ret2_1
05CC   0008           02094         return
                      02095 ;------------------------------------------------------------
05CD                  02096 retardounseg                                    ;Retardo de 1 segundo
                      02097 ;------------------------------------------------------------
05CD   30FF           02098         movlw    .255
05CE   00AB           02099         movwf    var1
05CF                  02100 ciclo_3
05CF   3008           02101         movlw   .08
05D0   00AC           02102         movwf   var2
05D1                  02103 ciclo_2
05D1   30A6           02104         movlw   .166
05D2   00AD           02105         movwf   var3
05D3                  02106 ciclo_1
05D3   0BAD           02107         decfsz  var3,1          ;497 microsegundos = aprox. 0.5 milisegundos
05D4   2???           02108         goto    ciclo_1
05D5   0BAC           02109         decfsz  var2,1
05D6   2???           02110         goto    ciclo_2
05D7   0BAB           02111         decfsz  var1,1
05D8   2???           02112         goto    ciclo_3
05D9   0008           02113         return
                      02114 ;------------------------------------------------------------
05DA                  02115 retardoXseg                                     ;Retardo de X segundos
                      02116 ;------------------------------------------------------------
05DA   307D           02117         movlw    .125           ;.255 Para 1 segundo
05DB   00AB           02118         movwf    var1
05DC                  02119 ciclos_3
05DC   3008           02120         movlw   .08
05DD   00AC           02121         movwf   var2
05DE                  02122 ciclos_2
05DE   30A6           02123         movlw   .166
05DF   00AD           02124         movwf   var3
05E0                  02125 ciclos_1
05E0   0BAD           02126         decfsz  var3,1          ;497 microsegundos = aprox. 0.5 milisegundos
05E1   2???           02127         goto    ciclos_1
05E2   0BAC           02128         decfsz  var2,1
05E3   2???           02129         goto    ciclos_2
05E4   0BAB           02130         decfsz  var1,1
05E5   2???           02131         goto    ciclos_3
05E6   0008           02132         return
                      02133 ;--------------------------------------------------------------------------
05E7                  02134 transmite                                       ;Rutina que se encarga de la transmisión
                      02135 ;--------------------------------------------------------------------------
05E7   1683           02136         bsf    status,rp0               ;cambiar al banco 1
05E8   1303           02137         bcf    status,rp1
05E9   3026           02138         movlw  b'00100110'
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
05EA   0098           02139         movwf  txsta
MPASM 5.83           USART PIC RASPBERRY.ASM   3-1-2019  2:32:34         PAGE 43


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

05EB   3019           02140         movlw  .25
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
05EC   0099           02141         movwf  spbrg
05ED   1283           02142         bcf    status,rp0               ;cambiar al banco 0
05EE   1303           02143         bcf    status,rp1
05EF   1798           02144         bsf    rcsta,spen
05F0   084A           02145         movf   TxUSART,w
05F1   0099           02146         movwf  txreg
05F2                  02147 txespera
05F2   1E0C           02148         btfss  pir1,txif
05F3   2???           02149         goto   txespera
05F4   0008           02150         return
1931                  02151         end
MPASM 5.83           USART PIC RASPBERRY.ASM   3-1-2019  2:32:34         PAGE 44


SYMBOL TABLE
  LABEL                             VALUE 

ACKDT                             00000005
ACKEN                             00000004
ACKSTAT                           00000006
ADCON0                            0000001F
ADCON1                            0000009F
ADCS0                             00000006
ADCS1                             00000007
ADCS2                             00000006
ADCinterrup                       0000000B
ADDEN                             00000003
ADFM                              00000007
ADIE                              00000006
ADIF                              00000006
ADON                              00000000
ADRESH                            0000001E
ADRESL                            0000009E
AmperFraCen                       00000039
AmperFraDec                       0000003A
AmperFraUni                       0000003B
AmperUni                          00000038
Apaga_Enciende_Ventilador         0000018D
BCDCen                            00000071
BCDDec                            00000072
BCDUni                            00000073
BCDcen                            00000024
BCDdec                            00000025
BCDuni                            00000026
BCLIE                             00000003
BCLIF                             00000003
BF                                00000000
BRGH                              00000002
Bit4_LCD                          00000004
Bit5_LCD                          00000005
Bit6_LCD                          00000006
Bit7_LCD                          00000007
Bit9_10_son_0                     00000351
Bit9_10_son_1                     0000035A
Bit9_es_0_Bit10_es_1              00000357
Bit9_es_1_Bit10_es_0              00000354
C                                 00000000
C1INV                             00000004
C1OUT                             00000006
C2INV                             00000005
C2OUT                             00000007
CCP1CON                           00000017
CCP1IE                            00000002
CCP1IF                            00000002
CCP1M0                            00000000
CCP1M1                            00000001
CCP1M2                            00000002
CCP1M3                            00000003
CCP1X                             00000005
CCP1Y                             00000004
MPASM 5.83           USART PIC RASPBERRY.ASM   3-1-2019  2:32:34         PAGE 45


SYMBOL TABLE
  LABEL                             VALUE 

CCP2CON                           0000001D
CCP2IE                            00000000
CCP2IF                            00000000
CCP2M0                            00000000
CCP2M1                            00000001
CCP2M2                            00000002
CCP2M3                            00000003
CCP2X                             00000005
CCP2Y                             00000004
CCPR1                             00000015
CCPR1H                            00000016
CCPR1L                            00000015
CCPR2                             0000001B
CCPR2H                            0000001C
CCPR2L                            0000001B
CHS0                              00000003
CHS1                              00000004
CHS2                              00000005
CIS                               00000003
CKE                               00000006
CKP                               00000004
CM0                               00000000
CM1                               00000001
CM2                               00000002
CMCON                             0000009C
CMIE                              00000006
CMIF                              00000006
CONV_BINaBCD                      000004AC
CONV_BINaHEX                      000004D1
CREN                              00000004
CSRC                              00000007
CVR0                              00000000
CVR1                              00000001
CVR2                              00000002
CVR3                              00000003
CVRCON                            0000009D
CVREN                             00000007
CVROE                             00000006
CVRR                              00000005
ConfigADC                         000001A7
ContCalCorriente                  000000C4
ContCalVoltaje                    0000012F
ContResta                         00000049
CorrienteAlto                     0000004C
CorrienteBajo                     0000004D
D                                 00000005
DATA_ADDRESS                      00000005
DC                                00000001
D_A                               00000005
D_NOT_A                           00000005
DecTemp                           0000003C
DivisionCalculos                  00000282
EEADR                             0000010D
MPASM 5.83           USART PIC RASPBERRY.ASM   3-1-2019  2:32:34         PAGE 46


SYMBOL TABLE
  LABEL                             VALUE 

EEADRH                            0000010F
EECON1                            0000018C
EECON2                            0000018D
EEDATA                            0000010C
EEDATH                            0000010E
EEIE                              00000004
EEIF                              00000004
EEPGD                             00000007
Enable_LCD                        00000003
F                                 00000001
FERR                              00000002
FSR                               00000004
FraTemp                           0000003E
GCEN                              00000007
GIE                               00000007
GO                                00000002
GO_DONE                           00000002
GO_NOT_DONE                       00000002
HexAlto                           00000075
HexBajo                           00000076
I2C_DATA                          00000005
I2C_READ                          00000002
I2C_START                         00000003
I2C_STOP                          00000004
INDF                              00000000
INTCON                            0000000B
INTE                              00000004
INTEDG                            00000006
INTF                              00000001
IRP                               00000007
IniProgMed                        0000004C
IniciaDisplayLCD                  000001D6
MedirCorriente                    00000082
MedirTemperatura                  0000015D
MedirVoltaje                      000000ED
MultiplicacionCalculos            00000338
NOT_A                             00000005
NOT_ADDRESS                       00000005
NOT_BO                            00000000
NOT_BOR                           00000000
NOT_DONE                          00000002
NOT_PD                            00000003
NOT_POR                           00000001
NOT_RBPU                          00000007
NOT_RC8                           00000006
NOT_T1SYNC                        00000002
NOT_TO                            00000004
NOT_TX8                           00000006
NOT_W                             00000002
NOT_WRITE                         00000002
NumeroEntero                      00000030
NumeroFraccionCen                 00000031
NumeroFraccionDec                 00000032
MPASM 5.83           USART PIC RASPBERRY.ASM   3-1-2019  2:32:34         PAGE 47


SYMBOL TABLE
  LABEL                             VALUE 

NumeroFraccionUni                 00000033
OERR                              00000001
OPTION_REG                        00000081
P                                 00000004
PCFG0                             00000000
PCFG1                             00000001
PCFG2                             00000002
PCFG3                             00000003
PCL                               00000002
PCLATH                            0000000A
PCON                              0000008E
PEIE                              00000006
PEN                               00000002
PIE1                              0000008C
PIE2                              0000008D
PIR1                              0000000C
PIR2                              0000000D
PORTA                             00000005
PORTB                             00000006
PORTC                             00000007
PR2                               00000092
PS0                               00000000
PS1                               00000001
PS2                               00000002
PSA                               00000003
PantallaRX                        000003E3
PantallaTX                        00000426
ParteAlta                         00000549
ParteBaja                         000004D5
Primerletrero                     000003A0
R                                 00000002
RA0                               00000000
RA1                               00000001
RA2                               00000002
RA3                               00000003
RA4                               00000004
RA5                               00000005
RB0                               00000000
RB1                               00000001
RB2                               00000002
RB3                               00000003
RB4                               00000004
RB5                               00000005
RB6                               00000006
RB7                               00000007
RBIE                              00000003
RBIF                              00000000
RC0                               00000000
RC1                               00000001
RC2                               00000002
RC3                               00000003
RC4                               00000004
RC5                               00000005
MPASM 5.83           USART PIC RASPBERRY.ASM   3-1-2019  2:32:34         PAGE 48


SYMBOL TABLE
  LABEL                             VALUE 

RC6                               00000006
RC7                               00000007
RC8_9                             00000006
RC9                               00000006
RCD8                              00000000
RCEN                              00000003
RCIE                              00000005
RCIF                              00000005
RCREG                             0000001A
RCSTA                             00000018
RD                                00000000
READ_WRITE                        00000002
RP0                               00000005
RP1                               00000006
RSEN                              00000001
RS_LCD                            00000000
RX9                               00000006
RX9D                              00000000
R_NOT_W                           00000002
R_W                               00000002
Regresa_de_USART                  00000049
Resta11CalVoltaje                 00000123
Resta18CalCorriente               000000B8
Resta4CalCorriente                000000A0
Resta4CalVoltaje                  0000010B
Resta8CalVoltaje                  00000117
Resta9CalCorriente                000000AC
Retardos                          000005BD
RutAjuste                         00000048
RxUSART                           0000004B
RxUSART2                          00000077
S                                 00000003
SEN                               00000000
SMP                               00000007
SPBRG                             00000099
SPEN                              00000007
SREN                              00000005
SSPADD                            00000093
SSPBUF                            00000013
SSPCON                            00000014
SSPCON2                           00000091
SSPEN                             00000005
SSPIE                             00000003
SSPIF                             00000003
SSPM0                             00000000
SSPM1                             00000001
SSPM2                             00000002
SSPM3                             00000003
SSPOV                             00000006
SSPSTAT                           00000094
STATUS                            00000003
SYNC                              00000004
SenCorriente                      00000000
MPASM 5.83           USART PIC RASPBERRY.ASM   3-1-2019  2:32:34         PAGE 49


SYMBOL TABLE
  LABEL                             VALUE 

SenTemperatura                    00000002
SenVoltaje                        00000001
Sig_Resta11CalVoltaje             00000125
Sig_Resta18CalCorriente           000000BA
Sig_Resta4CalCorriente            000000A2
Sig_Resta4CalVoltaje              0000010D
Sig_Resta8CalVoltaje              00000119
Sig_Resta9CalCorriente            000000AE
SubRutAjuste                      00000349
T0CS                              00000005
T0IE                              00000005
T0IF                              00000002
T0SE                              00000004
T1Alto                            000000A0
T1Bajo                            000000A1
T1CKPS0                           00000004
T1CKPS1                           00000005
T1CON                             00000010
T1INSYNC                          00000002
T1OSCEN                           00000003
T1SYNC                            00000002
T2Alto                            000000A2
T2Bajo                            000000A3
T2CKPS0                           00000000
T2CKPS1                           00000001
T2CON                             00000012
T3Alto                            000000A4
T3Bajo                            000000A5
T4Alto                            000000A6
T4Bajo                            000000A7
T5Alto                            000000A8
T5Bajo                            000000A9
T6Alto                            000000AA
T6Bajo                            000000AB
T7Alto                            000000AC
T7Bajo                            000000AD
T8Alto                            000000AE
T8Bajo                            000000AF
TMR0                              00000001
TMR0IE                            00000005
TMR0IF                            00000002
TMR1                              0000000E
TMR1CS                            00000001
TMR1H                             0000000F
TMR1IE                            00000000
TMR1IF                            00000000
TMR1L                             0000000E
TMR1ON                            00000000
TMR2                              00000011
TMR2IE                            00000001
TMR2IF                            00000001
TMR2ON                            00000002
TOUTPS0                           00000003
MPASM 5.83           USART PIC RASPBERRY.ASM   3-1-2019  2:32:34         PAGE 50


SYMBOL TABLE
  LABEL                             VALUE 

TOUTPS1                           00000004
TOUTPS2                           00000005
TOUTPS3                           00000006
TRISA                             00000085
TRISA0                            00000000
TRISA1                            00000001
TRISA2                            00000002
TRISA3                            00000003
TRISA4                            00000004
TRISA5                            00000005
TRISB                             00000086
TRISB0                            00000000
TRISB1                            00000001
TRISB2                            00000002
TRISB3                            00000003
TRISB4                            00000004
TRISB5                            00000005
TRISB6                            00000006
TRISB7                            00000007
TRISC                             00000087
TRISC0                            00000000
TRISC1                            00000001
TRISC2                            00000002
TRISC3                            00000003
TRISC4                            00000004
TRISC5                            00000005
TRISC6                            00000006
TRISC7                            00000007
TRMT                              00000001
TX8_9                             00000006
TX9                               00000006
TX9D                              00000000
TXD8                              00000000
TXEN                              00000005
TXIE                              00000004
TXIF                              00000004
TXREG                             00000019
TXSTA                             00000098
Talta                             00000078
Tbaja                             00000079
TempMultialto                     00000044
TempMultibajo                     00000045
TxUSART                           0000004A
Tx_Protocolo                      0000002A
UA                                00000001
UniTemp                           0000003D
ValBIN                            00000021
ValRx                             00000070
ValRxHex                          00000074
Ventilador                        00000007
Ventiladoralto                    00000046
Ventiladorbajo                    00000047
VoltAlto                          0000004E
MPASM 5.83           USART PIC RASPBERRY.ASM   3-1-2019  2:32:34         PAGE 51


SYMBOL TABLE
  LABEL                             VALUE 

VoltBajo                          0000004F
VoltsDec                          00000034
VoltsFracDec                      00000036
VoltsFracUni                      00000037
VoltsUni                          00000035
W                                 00000000
WCOL                              00000007
WR                                00000001
WREN                              00000002
WRERR                             00000003
Z                                 00000002
_1                                00000031
_2                                00000032
_3                                00000033
_4                                00000034
_5                                00000035
_6                                00000036
_7                                00000037
_8                                00000038
_9                                00000039
_A                                00000041
_B                                00000042
_BODEN_OFF                        00003FBF
_BODEN_ON                         00003FFF
_BOREN_OFF                        00003FBF
_BOREN_ON                         00003FFF
_C                                00000043
_CONFIG                           00002007
_CPD_OFF                          00003FFF
_CPD_ON                           00003EFF
_CP_ALL                           00001FFF
_CP_OFF                           00003FFF
_CP_ON                            00001FFF
_D                                00000044
_DEBUG_OFF                        00003FFF
_DEBUG_ON                         000037FF
_DEVID1                           00002006
_E                                00000045
_F                                00000046
_FOSC_EXTRC                       00003FFF
_FOSC_HS                          00003FFE
_FOSC_LP                          00003FFC
_FOSC_XT                          00003FFD
_G                                00000047
_H                                00000048
_HS_OSC                           00003FFE
_I                                00000049
_IDLOC0                           00002000
_IDLOC1                           00002001
_IDLOC2                           00002002
_IDLOC3                           00002003
_J                                0000004A
_K                                0000004B
MPASM 5.83           USART PIC RASPBERRY.ASM   3-1-2019  2:32:34         PAGE 52


SYMBOL TABLE
  LABEL                             VALUE 

_L                                0000004C
_LP_OSC                           00003FFC
_LVP_OFF                          00003F7F
_LVP_ON                           00003FFF
_M                                0000004D
_N                                0000004E
_O                                0000004F
_P                                00000050
_PWRTE_OFF                        00003FFF
_PWRTE_ON                         00003FF7
_Q                                00000051
_R                                00000052
_RC_OSC                           00003FFF
_S                                00000053
_T                                00000054
_U                                00000055
_V                                00000056
_W                                00000057
_WDTE_OFF                         00003FFB
_WDTE_ON                          00003FFF
_WDT_OFF                          00003FFB
_WDT_ON                           00003FFF
_WRT_1FOURTH                      00003BFF
_WRT_256                          00003DFF
_WRT_HALF                         000039FF
_WRT_OFF                          00003FFF
_X                                00000058
_XT_OSC                           00003FFD
_Y                                00000059
_Z                                0000005A
__16F876A                         00000001
_a                                00000061
_b                                00000062
_c                                00000063
_d                                00000064
_dospuntos                        0000003A
_e                                00000065
_espaci                           00000020
_f                                00000066
_g                                00000067
_grado                            000000DF
_h                                00000068
_i                                00000069
_j                                0000006A
_k                                0000006B
_l                                0000006C
_m                                0000006D
_menos                            0000002D
_n                                0000006E
_o                                0000006F
_p                                00000070
_punto                            0000002E
_q                                00000071
MPASM 5.83           USART PIC RASPBERRY.ASM   3-1-2019  2:32:34         PAGE 53


SYMBOL TABLE
  LABEL                             VALUE 

_r                                00000072
_s                                00000073
_t                                00000074
_u                                00000075
_v                                00000076
_w                                00000077
_x                                00000078
_y                                00000079
_z                                0000007A
acarreoDecimal                    0000028E
acarreoFraccionCen                000002BA
acarreoFraccionDec                000002E6
acarreoFraccionUni                00000312
acarreoVentilador                 00000196
adcalto                           00000022
adcbajo                           00000023
adcon0                            0000001F
adcon1                            0000009F
adcs0                             00000006
adcs1                             00000007
adfm                              00000007
adie                              00000006
adif                              00000006
adon                              00000000
adresh                            0000001E
adresl                            0000009E
apagaVentilador                   000001A5
banADC                            00000027
bit9es1                           0000034E
c                                 00000000
calculaDecimal                    00000288
calculaFraccionCen                000002B4
calculaFraccionDec                000002E0
calculaFraccionUni                0000030C
carga0                            00000519
carga00                           0000058D
carga01                           00000590
carga02                           00000593
carga03                           00000596
carga04                           00000599
carga05                           0000059C
carga06                           0000059F
carga07                           000005A2
carga08                           000005A5
carga09                           000005A8
carga0a                           000005AB
carga0b                           000005AE
carga0c                           000005B1
carga0d                           000005B4
carga0e                           000005B7
carga0f                           000005BA
carga1                            0000051C
carga2                            0000051F
MPASM 5.83           USART PIC RASPBERRY.ASM   3-1-2019  2:32:34         PAGE 54


SYMBOL TABLE
  LABEL                             VALUE 

carga3                            00000522
carga4                            00000525
carga5                            00000528
carga6                            0000052B
carga7                            0000052E
carga8                            00000531
carga9                            00000534
cargaa                            00000537
cargab                            0000053A
cargac                            0000053D
cargad                            00000540
cargae                            00000543
cargaf                            00000546
chs0                              00000003
chs1                              00000004
chs2                              00000005
cicloMulti                        0000033E
ciclo_1                           000005D3
ciclo_2                           000005D1
ciclo_3                           000005CF
ciclos_1                          000005E0
ciclos_2                          000005DE
ciclos_3                          000005DC
contadorMulti                     00000042
contadorMultiOper                 00000043
continua_Resta11CalVoltaje        0000012C
continua_Resta18CalCorriente      000000C1
continua_Resta4CalCorriente       000000A9
continua_Resta4CalVoltaje         00000114
continua_Resta8CalVoltaje         00000120
continua_Resta9CalCorriente       000000B5
convBINaBCD                       0000026F
cren                              00000004
decrementa_adcalto_Resta11CalVol  0000012B
decrementa_adcalto_Resta18CalCor  000000C0
decrementa_adcalto_Resta4CalCorr  000000A8
decrementa_adcalto_Resta4CalVolt  00000113
decrementa_adcalto_Resta8CalVolt  0000011F
decrementa_adcalto_Resta9CalCorr  000000B4
display                           00000208
div_entre_10                      00000273
div_entre_100                     000004B1
div_entre_10_BCD                  000004BE
divisorDec                        00000040
divisorUni                        00000041
eepgd                             00000007
encenderVentilador                000001A3
esperaCorrienteADCs               0000008A
esperaTemperaturaADCs             00000165
esperaVoltajeADCs                 000000F5
finconversion                     00000281
finconversionBCD                  000004CC
fsr                               00000004
MPASM 5.83           USART PIC RASPBERRY.ASM   3-1-2019  2:32:34         PAGE 55


SYMBOL TABLE
  LABEL                             VALUE 

gie                               00000007
go_done                           00000002
incremetaEnteroAlto               000002A6
incremetaFraccionCenAlto          000002D2
incremetaFraccionDecAlto          000002FE
incremetaFraccionUniAlto          0000032A
incremetaVoltsAlto                00000343
indf                              00000000
intcon                            0000000B
interserie                        0000001B
letreroBienvenida                 0000035D
modocaracter                      000001C7
modoinstru                        000001B9
multiplicaDecimal                 000002B3
multiplicaFraccionCen             000002DF
multiplicaFraccionDec             0000030B
negativo                          00000278
negativo_10                       000004C3
negativo_100                      000004B6
pcfg0                             00000000
pcfg1                             00000001
pcfg2                             00000002
pcfg3                             00000003
pclath                            0000000A
peie                              00000006
pie1                              0000008C
pie2                              0000008D
pir1                              0000000C
pir2                              0000000D
porta                             00000005
portb                             00000006
portc                             00000007
rcie                              00000005
rcif                              00000005
rcreg                             0000001A
rcsta                             00000018
restaDecimal                      0000029B
restaFraccionCen                  000002C7
restaFraccionDec                  000002F3
restaFraccionUni                  0000031F
restaVentilador                   0000019C
restableceadcaltoDecimal          00000299
restableceadcaltoFraccionCen      000002C5
restableceadcaltoFraccionDec      000002F1
restableceadcaltoFraccionUni      0000031D
resultadonegativoDecimal          000002A1
resultadonegativoFraccionCen      000002CD
resultadonegativoFraccionDec      000002F9
resultadonegativoFraccionUni      00000325
resultadopositivoDecimal          000002AA
resultadopositivoFraccionCen      000002D6
resultadopositivoFraccionDec      00000302
resultadopositivoFraccionUni      0000032E
MPASM 5.83           USART PIC RASPBERRY.ASM   3-1-2019  2:32:34         PAGE 56


SYMBOL TABLE
  LABEL                             VALUE 

ret1                              00000028
ret1_1                            000005C1
ret1_2                            000005BF
ret1_3                            000005BD
ret2                              00000029
ret2_1                            000005CA
ret3                              0000002A
retardoXseg                       000005DA
retardounseg                      000005CD
rp0                               00000005
rp1                               00000006
sigresta                          0000027C
sigrestaBCD                       000004C7
sigrestaCen                       000004B9
spbrg                             00000099
spen                              00000007
status                            00000003
sumarEnteroalta                   000002A7
sumarFraccionCenalta              000002D3
sumarFraccionDecalta              000002FF
sumarFraccionUnialta              0000032B
sumarpartealta                    00000344
temp10micros                      000005C8
terminaDecimal                    00000294
terminaFraccionCen                000002C0
terminaFraccionDec                000002EC
terminaFraccionUni                00000318
terminociclo?                     00000346
tmr0                              00000001
toif                              00000002
transmite                         000005E7
trisa                             00000085
trisb                             00000086
trisc                             00000087
txespera                          000005F2
txif                              00000004
txreg                             00000019
txsta                             00000098
valores_TX                        00000469
var1                              0000002B
var1ren0                          00000050
var1ren1                          00000051
var1ren10                         0000005A
var1ren11                         0000005B
var1ren12                         0000005C
var1ren13                         0000005D
var1ren14                         0000005E
var1ren15                         0000005F
var1ren2                          00000052
var1ren3                          00000053
var1ren4                          00000054
var1ren5                          00000055
var1ren6                          00000056
MPASM 5.83           USART PIC RASPBERRY.ASM   3-1-2019  2:32:34         PAGE 57


SYMBOL TABLE
  LABEL                             VALUE 

var1ren7                          00000057
var1ren8                          00000058
var1ren9                          00000059
var2                              0000002C
var2ren0                          00000060
var2ren1                          00000061
var2ren10                         0000006A
var2ren11                         0000006B
var2ren12                         0000006C
var2ren13                         0000006D
var2ren14                         0000006E
var2ren15                         0000006F
var2ren2                          00000062
var2ren3                          00000063
var2ren4                          00000064
var2ren5                          00000065
var2ren6                          00000066
var2ren7                          00000067
var2ren8                          00000068
var2ren9                          00000069
var3                              0000002D
varLCD                            00000020
w                                 00000000
z                                 00000002

Errors   :     0
Warnings :    30 reported,     0 suppressed
Messages :    31 reported,     0 suppressed

